2025-05-21 11:59:32,181 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 11:59:32,181 - message-queue-api - INFO - Redis is working properly
2025-05-21 11:59:32,216 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-21 11:59:32,216 - message-queue-api - INFO - Celery worker thread started
2025-05-21 11:59:32,216 - message-queue-api - INFO - Starting FastAPI server...
2025-05-21 11:59:32,247 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 11:59:32,248 - message-queue-api - INFO - Redis is working properly
2025-05-21 11:59:32,916 - message-queue-api - INFO - [Celery] 
2025-05-21 11:59:32,916 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-21 11:59:32
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x1905a2a01a0
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-21 11:59:32,917 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-21 11:59:32,919 - message-queue-api - INFO - [Celery] 
2025-05-21 11:59:32,919 - message-queue-api - INFO - [Celery] 
2025-05-21 11:59:32,919 - message-queue-api - INFO - [Celery] [tasks]
2025-05-21 11:59:32,919 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-21 11:59:32,919 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-21 11:59:32,919 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-21 11:59:32,919 - message-queue-api - INFO - [Celery] . celery_worker.simulate_translation_progress
2025-05-21 11:59:32,920 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-21 11:59:32,920 - message-queue-api - INFO - [Celery] 
2025-05-21 11:59:32,920 - message-queue-api - INFO - [Celery] [2025-05-21 11:59:32,916: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 11:59:32,920 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 11:59:32,920 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 11:59:32,920 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 11:59:32,920 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 11:59:32,920 - message-queue-api - INFO - [Celery] 
2025-05-21 11:59:32,924 - message-queue-api - INFO - [Celery] [2025-05-21 11:59:32,924: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-21 11:59:32,924 - message-queue-api - INFO - [Celery] [2025-05-21 11:59:32,924: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 11:59:32,924 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 11:59:32,924 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 11:59:32,924 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 11:59:32,924 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 11:59:32,924 - message-queue-api - INFO - [Celery] 
2025-05-21 11:59:32,933 - message-queue-api - INFO - [Celery] [2025-05-21 11:59:32,932: INFO/MainProcess] mingle: searching for neighbors
2025-05-21 11:59:33,966 - message-queue-api - INFO - [Celery] [2025-05-21 11:59:33,966: INFO/MainProcess] mingle: all alone
2025-05-21 11:59:34,000 - message-queue-api - INFO - [Celery] [2025-05-21 11:59:34,000: INFO/MainProcess] celery@hacker ready.
2025-05-21 13:21:43,062 - message-queue-api - INFO - Adding new translation job to queue with ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:21:43,063 - message-queue-api - INFO - Using model: gpt
2025-05-21 13:21:43,070 - message-queue-api - INFO - High priority message 5153629c-2c06-47fe-9224-190d5d396524, triggering immediate processing
2025-05-21 13:21:43,218 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:43,217: INFO/MainProcess] Task celery_worker.process_message[b6a8cb4e-a740-4ef4-bc11-0ddce1853410] received
2025-05-21 13:21:43,228 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:43,227: INFO/MainProcess] Processing translation job: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:21:43,228 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:43,227: INFO/MainProcess] Using translation model: gpt
2025-05-21 13:21:43,228 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:43,227: INFO/MainProcess] Content length: 19 characters
2025-05-21 13:21:43,228 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:43,228: INFO/MainProcess] Starting translation job 5153629c-2c06-47fe-9224-190d5d396524 with model gpt
2025-05-21 13:21:43,228 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:43,228: WARNING/MainProcess] [1;33mðŸ”„ Starting translation job 5153629c-2c06-47fe-9224-190d5d396524 with model gpt[0m
2025-05-21 13:21:45,285 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt - ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:21:45,288 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:45,288: INFO/MainProcess] Updated status for message 5153629c-2c06-47fe-9224-190d5d396524: started (0%)
2025-05-21 13:21:48,943 - message-queue-api - INFO - Translation progress [====>                ] 20.0% - Model: gpt - ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:21:48,948 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:48,947: INFO/MainProcess] Updated status for message 5153629c-2c06-47fe-9224-190d5d396524: started (20.0%)
2025-05-21 13:21:52,277 - message-queue-api - INFO - Translation progress [========>            ] 40.0% - Model: gpt - ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:21:52,277 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:52,277: INFO/MainProcess] Updated status for message 5153629c-2c06-47fe-9224-190d5d396524: started (40.0%)
2025-05-21 13:21:56,857 - message-queue-api - INFO - Translation progress [============>        ] 60.0% - Model: gpt - ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:21:56,860 - message-queue-api - INFO - [Celery] [2025-05-21 13:21:56,860: INFO/MainProcess] Updated status for message 5153629c-2c06-47fe-9224-190d5d396524: started (60.0%)
2025-05-21 13:22:01,069 - message-queue-api - INFO - Translation progress [================>    ] 80.0% - Model: gpt - ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:22:01,075 - message-queue-api - INFO - [Celery] [2025-05-21 13:22:01,075: INFO/MainProcess] Updated status for message 5153629c-2c06-47fe-9224-190d5d396524: started (80.0%)
2025-05-21 13:22:04,508 - message-queue-api - INFO - Translation progress [====================>] 100.0% - Model: gpt - ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:22:04,512 - message-queue-api - INFO - [Celery] [2025-05-21 13:22:04,510: INFO/MainProcess] Updated status for message 5153629c-2c06-47fe-9224-190d5d396524: started (100.0%)
2025-05-21 13:22:06,538 - message-queue-api - INFO - Translation COMPLETED for message 5153629c-2c06-47fe-9224-190d5d396524 using model gpt
2025-05-21 13:22:06,539 - message-queue-api - INFO - [Celery] [2025-05-21 13:22:06,539: INFO/MainProcess] Updated status for message 5153629c-2c06-47fe-9224-190d5d396524: completed (100%)
2025-05-21 13:22:08,575 - message-queue-api - INFO - Translation COMPLETED for message 5153629c-2c06-47fe-9224-190d5d396524 using model gpt
2025-05-21 13:22:08,577 - message-queue-api - INFO - [Celery] [2025-05-21 13:22:08,577: INFO/MainProcess] Updated status for message 5153629c-2c06-47fe-9224-190d5d396524: completed (100%)
2025-05-21 13:22:08,577 - message-queue-api - INFO - [Celery] [2025-05-21 13:22:08,577: INFO/MainProcess] Successfully processed translation job: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:22:08,582 - message-queue-api - INFO - [Celery] [2025-05-21 13:22:08,581: INFO/MainProcess] Task celery_worker.process_message[b6a8cb4e-a740-4ef4-bc11-0ddce1853410] succeeded in 25.35999999998603s: {'status': 'completed', 'message_id': '5153629c-2c06-47fe-9224-190d5d396524'}
2025-05-21 13:24:27,091 - message-queue-api - INFO - Adding new translation job to queue with ID: fbaaeefe-3714-4680-a126-01dbe222c931
2025-05-21 13:24:27,091 - message-queue-api - INFO - Using model: gpt
2025-05-21 13:24:27,095 - message-queue-api - INFO - High priority message fbaaeefe-3714-4680-a126-01dbe222c931, triggering immediate processing
2025-05-21 13:24:27,103 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:27,103: INFO/MainProcess] Task celery_worker.process_message[6ab61275-2a12-4787-b4d9-69ce711df73b] received
2025-05-21 13:24:27,107 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:27,107: INFO/MainProcess] Processing translation job: fbaaeefe-3714-4680-a126-01dbe222c931
2025-05-21 13:24:27,107 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:27,107: INFO/MainProcess] Using translation model: gpt
2025-05-21 13:24:27,108 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:27,107: INFO/MainProcess] Content length: 19 characters
2025-05-21 13:24:27,109 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:27,107: INFO/MainProcess] Starting translation job fbaaeefe-3714-4680-a126-01dbe222c931 with model gpt
2025-05-21 13:24:27,109 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:27,107: WARNING/MainProcess] [1;33mðŸ”„ Starting translation job fbaaeefe-3714-4680-a126-01dbe222c931 with model gpt[0m
2025-05-21 13:24:29,147 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt - ID: fbaaeefe-3714-4680-a126-01dbe222c931
2025-05-21 13:24:29,149 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:29,149: INFO/MainProcess] Updated status for message fbaaeefe-3714-4680-a126-01dbe222c931: started (0%)
2025-05-21 13:24:32,395 - message-queue-api - INFO - Translation progress [====>                ] 20.0% - Model: gpt - ID: fbaaeefe-3714-4680-a126-01dbe222c931
2025-05-21 13:24:32,399 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:32,398: INFO/MainProcess] Updated status for message fbaaeefe-3714-4680-a126-01dbe222c931: started (20.0%)
2025-05-21 13:24:36,431 - message-queue-api - INFO - Translation progress [========>            ] 40.0% - Model: gpt - ID: fbaaeefe-3714-4680-a126-01dbe222c931
2025-05-21 13:24:36,432 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:36,432: INFO/MainProcess] Updated status for message fbaaeefe-3714-4680-a126-01dbe222c931: started (40.0%)
2025-05-21 13:24:40,424 - message-queue-api - INFO - Translation progress [============>        ] 60.0% - Model: gpt - ID: fbaaeefe-3714-4680-a126-01dbe222c931
2025-05-21 13:24:40,426 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:40,426: INFO/MainProcess] Updated status for message fbaaeefe-3714-4680-a126-01dbe222c931: started (60.0%)
2025-05-21 13:24:44,109 - message-queue-api - INFO - Translation progress [================>    ] 80.0% - Model: gpt - ID: fbaaeefe-3714-4680-a126-01dbe222c931
2025-05-21 13:24:44,110 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:44,110: INFO/MainProcess] Updated status for message fbaaeefe-3714-4680-a126-01dbe222c931: started (80.0%)
2025-05-21 13:24:48,836 - message-queue-api - INFO - Translation progress [====================>] 100.0% - Model: gpt - ID: fbaaeefe-3714-4680-a126-01dbe222c931
2025-05-21 13:24:48,839 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:48,838: INFO/MainProcess] Updated status for message fbaaeefe-3714-4680-a126-01dbe222c931: started (100.0%)
2025-05-21 13:24:50,884 - message-queue-api - INFO - Translation COMPLETED for message fbaaeefe-3714-4680-a126-01dbe222c931 using model gpt
2025-05-21 13:24:50,885 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:50,885: INFO/MainProcess] Updated status for message fbaaeefe-3714-4680-a126-01dbe222c931: completed (100%)
2025-05-21 13:24:52,933 - message-queue-api - INFO - Translation COMPLETED for message fbaaeefe-3714-4680-a126-01dbe222c931 using model gpt
2025-05-21 13:24:52,934 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:52,934: INFO/MainProcess] Updated status for message fbaaeefe-3714-4680-a126-01dbe222c931: completed (100%)
2025-05-21 13:24:52,934 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:52,934: INFO/MainProcess] Successfully processed translation job: fbaaeefe-3714-4680-a126-01dbe222c931
2025-05-21 13:24:52,938 - message-queue-api - INFO - [Celery] [2025-05-21 13:24:52,938: INFO/MainProcess] Task celery_worker.process_message[6ab61275-2a12-4787-b4d9-69ce711df73b] succeeded in 25.828000000095926s: {'status': 'completed', 'message_id': 'fbaaeefe-3714-4680-a126-01dbe222c931'}
2025-05-21 13:25:34,948 - message-queue-api - INFO - Adding new translation job to queue with ID: d2923419-4204-4626-b05a-e1f8bc686aaf
2025-05-21 13:25:34,949 - message-queue-api - INFO - Using model: gpt
2025-05-21 13:25:34,952 - message-queue-api - INFO - High priority message d2923419-4204-4626-b05a-e1f8bc686aaf, triggering immediate processing
2025-05-21 13:25:34,960 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:34,960: INFO/MainProcess] Task celery_worker.process_message[f1c7f8af-4642-476a-9c11-9c723ced675b] received
2025-05-21 13:25:34,966 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:34,966: INFO/MainProcess] Processing translation job: d2923419-4204-4626-b05a-e1f8bc686aaf
2025-05-21 13:25:34,967 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:34,966: INFO/MainProcess] Using translation model: gpt
2025-05-21 13:25:34,967 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:34,966: INFO/MainProcess] Content length: 19 characters
2025-05-21 13:25:34,967 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:34,967: INFO/MainProcess] Starting translation job d2923419-4204-4626-b05a-e1f8bc686aaf with model gpt
2025-05-21 13:25:34,967 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:34,967: WARNING/MainProcess] [1;33mðŸ”„ Starting translation job d2923419-4204-4626-b05a-e1f8bc686aaf with model gpt[0m
2025-05-21 13:25:36,993 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt - ID: d2923419-4204-4626-b05a-e1f8bc686aaf
2025-05-21 13:25:36,995 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:36,995: INFO/MainProcess] Updated status for message d2923419-4204-4626-b05a-e1f8bc686aaf: started (0%)
2025-05-21 13:25:40,952 - message-queue-api - INFO - Translation progress [====>                ] 20.0% - Model: gpt - ID: d2923419-4204-4626-b05a-e1f8bc686aaf
2025-05-21 13:25:40,954 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:40,954: INFO/MainProcess] Updated status for message d2923419-4204-4626-b05a-e1f8bc686aaf: started (20.0%)
2025-05-21 13:25:45,561 - message-queue-api - INFO - Translation progress [========>            ] 40.0% - Model: gpt - ID: d2923419-4204-4626-b05a-e1f8bc686aaf
2025-05-21 13:25:45,565 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:45,564: INFO/MainProcess] Updated status for message d2923419-4204-4626-b05a-e1f8bc686aaf: started (40.0%)
2025-05-21 13:25:48,798 - message-queue-api - INFO - Translation progress [============>        ] 60.0% - Model: gpt - ID: d2923419-4204-4626-b05a-e1f8bc686aaf
2025-05-21 13:25:48,799 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:48,799: INFO/MainProcess] Updated status for message d2923419-4204-4626-b05a-e1f8bc686aaf: started (60.0%)
2025-05-21 13:25:53,566 - message-queue-api - INFO - Translation progress [================>    ] 80.0% - Model: gpt - ID: d2923419-4204-4626-b05a-e1f8bc686aaf
2025-05-21 13:25:53,568 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:53,567: INFO/MainProcess] Updated status for message d2923419-4204-4626-b05a-e1f8bc686aaf: started (80.0%)
2025-05-21 13:25:58,211 - message-queue-api - INFO - Translation progress [====================>] 100.0% - Model: gpt - ID: d2923419-4204-4626-b05a-e1f8bc686aaf
2025-05-21 13:25:58,214 - message-queue-api - INFO - [Celery] [2025-05-21 13:25:58,214: INFO/MainProcess] Updated status for message d2923419-4204-4626-b05a-e1f8bc686aaf: started (100.0%)
2025-05-21 13:26:00,270 - message-queue-api - INFO - Translation COMPLETED for message d2923419-4204-4626-b05a-e1f8bc686aaf using model gpt
2025-05-21 13:26:00,272 - message-queue-api - INFO - [Celery] [2025-05-21 13:26:00,272: INFO/MainProcess] Updated status for message d2923419-4204-4626-b05a-e1f8bc686aaf: completed (100%)
2025-05-21 13:26:02,316 - message-queue-api - INFO - Translation COMPLETED for message d2923419-4204-4626-b05a-e1f8bc686aaf using model gpt
2025-05-21 13:26:02,317 - message-queue-api - INFO - [Celery] [2025-05-21 13:26:02,317: INFO/MainProcess] Updated status for message d2923419-4204-4626-b05a-e1f8bc686aaf: completed (100%)
2025-05-21 13:26:02,317 - message-queue-api - INFO - [Celery] [2025-05-21 13:26:02,317: INFO/MainProcess] Successfully processed translation job: d2923419-4204-4626-b05a-e1f8bc686aaf
2025-05-21 13:26:02,320 - message-queue-api - INFO - [Celery] [2025-05-21 13:26:02,320: INFO/MainProcess] Task celery_worker.process_message[f1c7f8af-4642-476a-9c11-9c723ced675b] succeeded in 27.35999999998603s: {'status': 'completed', 'message_id': 'd2923419-4204-4626-b05a-e1f8bc686aaf'}
2025-05-21 13:27:17,995 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 13:27:17,995 - message-queue-api - INFO - Redis is working properly
2025-05-21 13:27:18,044 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-21 13:27:18,044 - message-queue-api - INFO - Celery worker thread started
2025-05-21 13:27:18,045 - message-queue-api - INFO - Starting FastAPI server...
2025-05-21 13:27:18,081 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 13:27:18,083 - message-queue-api - INFO - Redis is working properly
2025-05-21 13:27:19,010 - message-queue-api - INFO - [Celery] 
2025-05-21 13:27:19,011 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-21 13:27:19,011 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 13:27:19,011 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-21 13:27:18
2025-05-21 13:27:19,011 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-21 13:27:19,011 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-21 13:27:19,011 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x1effb3c78f0
2025-05-21 13:27:19,011 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-21 13:27:19,011 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-21 13:27:19,011 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] 
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] 
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] [tasks]
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-21 13:27:19,012 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-21 13:27:19,013 - message-queue-api - INFO - [Celery] 
2025-05-21 13:27:19,021 - message-queue-api - INFO - [Celery] [2025-05-21 13:27:19,021: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 13:27:19,021 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 13:27:19,021 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 13:27:19,021 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 13:27:19,021 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 13:27:19,022 - message-queue-api - INFO - [Celery] 
2025-05-21 13:27:19,031 - message-queue-api - INFO - [Celery] [2025-05-21 13:27:19,030: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-21 13:27:19,031 - message-queue-api - INFO - [Celery] [2025-05-21 13:27:19,031: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 13:27:19,031 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 13:27:19,031 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 13:27:19,031 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 13:27:19,031 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 13:27:19,031 - message-queue-api - INFO - [Celery] 
2025-05-21 13:27:19,035 - message-queue-api - INFO - [Celery] [2025-05-21 13:27:19,035: INFO/MainProcess] mingle: searching for neighbors
2025-05-21 13:27:20,124 - message-queue-api - INFO - [Celery] [2025-05-21 13:27:20,124: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\app\control.py:56: DuplicateNodenameWarning: Received multiple replies from node name: celery@hacker.
2025-05-21 13:27:20,124 - message-queue-api - INFO - [Celery] Please make sure you give each node a unique nodename using
2025-05-21 13:27:20,124 - message-queue-api - INFO - [Celery] the celery worker `-n` option.
2025-05-21 13:27:20,124 - message-queue-api - INFO - [Celery] warnings.warn(DuplicateNodenameWarning(
2025-05-21 13:27:20,126 - message-queue-api - INFO - [Celery] 
2025-05-21 13:27:20,126 - message-queue-api - INFO - [Celery] [2025-05-21 13:27:20,124: INFO/MainProcess] mingle: all alone
2025-05-21 13:27:20,154 - message-queue-api - INFO - [Celery] [2025-05-21 13:27:20,154: INFO/MainProcess] celery@hacker ready.
2025-05-21 13:27:26,563 - message-queue-api - INFO - Adding new translation job to queue with ID: cbad2729-38bf-4c45-89c3-3c8b9c18ada5
2025-05-21 13:27:26,563 - message-queue-api - INFO - Using model: gpt
2025-05-21 13:27:26,567 - message-queue-api - INFO - High priority message cbad2729-38bf-4c45-89c3-3c8b9c18ada5, triggering immediate processing
2025-05-21 13:27:28,864 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt - ID: cbad2729-38bf-4c45-89c3-3c8b9c18ada5
2025-05-21 13:27:33,443 - message-queue-api - INFO - Translation progress [====>                ] 20.0% - Model: gpt - ID: cbad2729-38bf-4c45-89c3-3c8b9c18ada5
2025-05-21 13:27:37,580 - message-queue-api - INFO - Translation progress [========>            ] 40.0% - Model: gpt - ID: cbad2729-38bf-4c45-89c3-3c8b9c18ada5
2025-05-21 13:27:41,125 - message-queue-api - INFO - Translation progress [============>        ] 60.0% - Model: gpt - ID: cbad2729-38bf-4c45-89c3-3c8b9c18ada5
2025-05-21 13:27:45,395 - message-queue-api - INFO - Translation progress [================>    ] 80.0% - Model: gpt - ID: cbad2729-38bf-4c45-89c3-3c8b9c18ada5
2025-05-21 13:27:48,715 - message-queue-api - INFO - Translation progress [====================>] 100.0% - Model: gpt - ID: cbad2729-38bf-4c45-89c3-3c8b9c18ada5
2025-05-21 13:27:50,803 - message-queue-api - INFO - Translation COMPLETED for message cbad2729-38bf-4c45-89c3-3c8b9c18ada5 using model gpt
2025-05-21 13:27:52,889 - message-queue-api - INFO - Translation COMPLETED for message cbad2729-38bf-4c45-89c3-3c8b9c18ada5 using model gpt
2025-05-21 13:28:41,114 - message-queue-api - INFO - Found message 5153629c-2c06-47fe-9224-190d5d396524 in priority queue, processing with Celery
2025-05-21 13:28:43,288 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt - ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:28:45,148 - message-queue-api - INFO - Found message 7dff4471-483d-4e17-b0bc-5935fd54e35e in priority queue, processing with Celery
2025-05-21 13:28:45,153 - message-queue-api - INFO - [Celery] [2025-05-21 13:28:45,153: INFO/MainProcess] Task celery_worker.process_message[e26dcb9d-8889-45b5-8160-14d55ded8d57] received
2025-05-21 13:28:45,167 - message-queue-api - INFO - [Celery] [2025-05-21 13:28:45,167: INFO/MainProcess] Starting translation job 7dff4471-483d-4e17-b0bc-5935fd54e35e with model gpt-4
2025-05-21 13:28:45,167 - message-queue-api - INFO - [Celery] [2025-05-21 13:28:45,167: WARNING/MainProcess] [1;33mStarting translation job 7dff4471-483d-4e17-b0bc-5935fd54e35e with model gpt-4[0m
2025-05-21 13:28:47,042 - message-queue-api - INFO - Translation progress [====>                ] 20.0% - Model: gpt - ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:28:47,227 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt-4 - ID: 7dff4471-483d-4e17-b0bc-5935fd54e35e
2025-05-21 13:28:47,229 - message-queue-api - INFO - [Celery] [2025-05-21 13:28:47,229: INFO/MainProcess] Updated status for message 7dff4471-483d-4e17-b0bc-5935fd54e35e: started (0%)
2025-05-21 13:28:47,230 - message-queue-api - INFO - [Celery] [2025-05-21 13:28:47,229: ERROR/MainProcess] Translation error with gpt-4: No module named 'openai'
2025-05-21 13:28:49,290 - message-queue-api - ERROR - Translation FAILED for message 7dff4471-483d-4e17-b0bc-5935fd54e35e: Translation failed: No module named 'openai'
2025-05-21 13:28:49,291 - message-queue-api - INFO - [Celery] [2025-05-21 13:28:49,291: INFO/MainProcess] Updated status for message 7dff4471-483d-4e17-b0bc-5935fd54e35e: failed (0%)
2025-05-21 13:28:49,291 - message-queue-api - INFO - [Celery] [2025-05-21 13:28:49,291: ERROR/MainProcess] Error during translation: No module named 'openai'
2025-05-21 13:28:51,337 - message-queue-api - ERROR - Translation FAILED for message 7dff4471-483d-4e17-b0bc-5935fd54e35e: Translation failed: No module named 'openai'
2025-05-21 13:28:51,339 - message-queue-api - INFO - [Celery] [2025-05-21 13:28:51,339: INFO/MainProcess] Updated status for message 7dff4471-483d-4e17-b0bc-5935fd54e35e: failed (0%)
2025-05-21 13:28:51,341 - message-queue-api - INFO - [Celery] [2025-05-21 13:28:51,341: INFO/MainProcess] Task celery_worker.process_message[e26dcb9d-8889-45b5-8160-14d55ded8d57] succeeded in 6.187000000034459s: {'status': 'failed', 'message_id': '7dff4471-483d-4e17-b0bc-5935fd54e35e', 'error': 'No module named \'openai\''}
2025-05-21 13:28:51,999 - message-queue-api - INFO - Translation progress [========>            ] 40.0% - Model: gpt - ID: 5153629c-2c06-47fe-9224-190d5d396524
2025-05-21 13:29:21,799 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 13:29:21,799 - message-queue-api - INFO - Redis is working properly
2025-05-21 13:29:21,821 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-21 13:29:21,821 - message-queue-api - INFO - Celery worker thread started
2025-05-21 13:29:21,821 - message-queue-api - INFO - Starting FastAPI server...
2025-05-21 13:29:21,844 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 13:29:21,844 - message-queue-api - INFO - Redis is working properly
2025-05-21 13:29:22,388 - message-queue-api - INFO - [Celery] 
2025-05-21 13:29:22,388 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-21 13:29:22,388 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 13:29:22,388 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-21 13:29:22
2025-05-21 13:29:22,388 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-21 13:29:22,388 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-21 13:29:22,389 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x1f9a61ccf50
2025-05-21 13:29:22,389 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-21 13:29:22,389 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-21 13:29:22,389 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-21 13:29:22,389 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-21 13:29:22,389 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 13:29:22,389 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-21 13:29:22,389 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-21 13:29:22,389 - message-queue-api - INFO - [Celery] 
2025-05-21 13:29:22,390 - message-queue-api - INFO - [Celery] 
2025-05-21 13:29:22,390 - message-queue-api - INFO - [Celery] [tasks]
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] 
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] [2025-05-21 13:29:22,388: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 13:29:22,391 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 13:29:22,392 - message-queue-api - INFO - [Celery] 
2025-05-21 13:29:22,396 - message-queue-api - INFO - [Celery] [2025-05-21 13:29:22,396: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-21 13:29:22,396 - message-queue-api - INFO - [Celery] [2025-05-21 13:29:22,396: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 13:29:22,396 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 13:29:22,397 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 13:29:22,398 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 13:29:22,398 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 13:29:22,398 - message-queue-api - INFO - [Celery] 
2025-05-21 13:29:22,402 - message-queue-api - INFO - [Celery] [2025-05-21 13:29:22,402: INFO/MainProcess] mingle: searching for neighbors
2025-05-21 13:29:23,441 - message-queue-api - INFO - [Celery] [2025-05-21 13:29:23,441: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\app\control.py:56: DuplicateNodenameWarning: Received multiple replies from node name: celery@hacker.
2025-05-21 13:29:23,441 - message-queue-api - INFO - [Celery] Please make sure you give each node a unique nodename using
2025-05-21 13:29:23,441 - message-queue-api - INFO - [Celery] the celery worker `-n` option.
2025-05-21 13:29:23,441 - message-queue-api - INFO - [Celery] warnings.warn(DuplicateNodenameWarning(
2025-05-21 13:29:23,443 - message-queue-api - INFO - [Celery] 
2025-05-21 13:29:23,444 - message-queue-api - INFO - [Celery] [2025-05-21 13:29:23,441: INFO/MainProcess] mingle: all alone
2025-05-21 13:29:23,473 - message-queue-api - INFO - [Celery] [2025-05-21 13:29:23,473: INFO/MainProcess] celery@hacker ready.
2025-05-21 13:29:28,950 - message-queue-api - INFO - Adding new translation job to queue with ID: 8a7713f5-337b-472c-86e3-edcc3b579b52
2025-05-21 13:29:28,951 - message-queue-api - INFO - Using model: gpt
2025-05-21 13:29:28,954 - message-queue-api - INFO - High priority message 8a7713f5-337b-472c-86e3-edcc3b579b52, triggering immediate processing
2025-05-21 13:29:31,165 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt - ID: 8a7713f5-337b-472c-86e3-edcc3b579b52
2025-05-21 13:29:35,550 - message-queue-api - INFO - Translation progress [====>                ] 20.0% - Model: gpt - ID: 8a7713f5-337b-472c-86e3-edcc3b579b52
2025-05-21 13:29:38,811 - message-queue-api - INFO - Translation progress [========>            ] 40.0% - Model: gpt - ID: 8a7713f5-337b-472c-86e3-edcc3b579b52
2025-05-21 13:29:43,678 - message-queue-api - INFO - Translation progress [============>        ] 60.0% - Model: gpt - ID: 8a7713f5-337b-472c-86e3-edcc3b579b52
2025-05-21 13:29:48,207 - message-queue-api - INFO - Translation progress [================>    ] 80.0% - Model: gpt - ID: 8a7713f5-337b-472c-86e3-edcc3b579b52
2025-05-21 13:29:51,807 - message-queue-api - INFO - Translation progress [====================>] 100.0% - Model: gpt - ID: 8a7713f5-337b-472c-86e3-edcc3b579b52
2025-05-21 13:29:53,889 - message-queue-api - INFO - Translation COMPLETED for message 8a7713f5-337b-472c-86e3-edcc3b579b52 using model gpt
2025-05-21 13:29:55,974 - message-queue-api - INFO - Translation COMPLETED for message 8a7713f5-337b-472c-86e3-edcc3b579b52 using model gpt
2025-05-21 13:31:23,104 - message-queue-api - INFO - [Celery] 
2025-05-21 13:31:23,104 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-21 13:31:23,104 - message-queue-api - INFO - [Celery] 
2025-05-21 13:31:23,105 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-21 13:31:23,577 - message-queue-api - ERROR - Celery worker exited with code 1
2025-05-21 13:31:35,119 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 13:31:35,119 - message-queue-api - INFO - Redis is working properly
2025-05-21 13:31:35,142 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-21 13:31:35,142 - message-queue-api - INFO - Celery worker thread started
2025-05-21 13:31:35,142 - message-queue-api - INFO - Starting FastAPI server...
2025-05-21 13:31:35,169 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 13:31:35,169 - message-queue-api - INFO - Redis is working properly
2025-05-21 13:31:35,767 - message-queue-api - INFO - [Celery] 
2025-05-21 13:31:35,767 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-21 13:31:35,767 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-21 13:31:35
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x23578f4dd60
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 13:31:35,768 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] 
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] 
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] [tasks]
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] 
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:35,768: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 13:31:35,769 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 13:31:35,770 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 13:31:35,770 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 13:31:35,770 - message-queue-api - INFO - [Celery] 
2025-05-21 13:31:35,774 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:35,774: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-21 13:31:35,774 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:35,774: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 13:31:35,776 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 13:31:35,776 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 13:31:35,776 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 13:31:35,776 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 13:31:35,776 - message-queue-api - INFO - [Celery] 
2025-05-21 13:31:35,779 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:35,779: INFO/MainProcess] mingle: searching for neighbors
2025-05-21 13:31:36,815 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:36,813: INFO/MainProcess] mingle: all alone
2025-05-21 13:31:36,851 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:36,851: INFO/MainProcess] celery@hacker ready.
2025-05-21 13:31:40,458 - message-queue-api - INFO - Adding new translation job to queue with ID: 8eecf285-7a01-473e-98ae-585e89f0382e
2025-05-21 13:31:40,458 - message-queue-api - INFO - Using model: gpt
2025-05-21 13:31:40,461 - message-queue-api - INFO - High priority message 8eecf285-7a01-473e-98ae-585e89f0382e, triggering immediate processing
2025-05-21 13:31:40,518 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:40,518: INFO/MainProcess] Task celery_worker.process_message[d0984943-6010-44a8-8647-83a436cae3bb] received
2025-05-21 13:31:40,526 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:40,524: INFO/MainProcess] Starting translation job 8eecf285-7a01-473e-98ae-585e89f0382e with model gpt
2025-05-21 13:31:40,526 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:40,524: WARNING/MainProcess] [1;33mStarting translation job 8eecf285-7a01-473e-98ae-585e89f0382e with model gpt[0m
2025-05-21 13:31:42,574 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt - ID: 8eecf285-7a01-473e-98ae-585e89f0382e
2025-05-21 13:31:42,578 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:42,578: INFO/MainProcess] Updated status for message 8eecf285-7a01-473e-98ae-585e89f0382e: started (0%)
2025-05-21 13:31:43,017 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:43,017: ERROR/MainProcess] Translation error with gpt: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-21 13:31:45,060 - message-queue-api - ERROR - Translation FAILED for message 8eecf285-7a01-473e-98ae-585e89f0382e: Translation failed: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-21 13:31:45,061 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:45,061: INFO/MainProcess] Updated status for message 8eecf285-7a01-473e-98ae-585e89f0382e: failed (0%)
2025-05-21 13:31:45,063 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:45,061: ERROR/MainProcess] Error during translation: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-21 13:31:47,099 - message-queue-api - ERROR - Translation FAILED for message 8eecf285-7a01-473e-98ae-585e89f0382e: Translation failed: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-21 13:31:47,101 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:47,099: INFO/MainProcess] Updated status for message 8eecf285-7a01-473e-98ae-585e89f0382e: failed (0%)
2025-05-21 13:31:47,101 - message-queue-api - INFO - [Celery] [2025-05-21 13:31:47,101: INFO/MainProcess] Task celery_worker.process_message[d0984943-6010-44a8-8647-83a436cae3bb] succeeded in 6.593999999924563s: {'status': 'failed', 'message_id': '8eecf285-7a01-473e-98ae-585e89f0382e', 'error': 'Client.__init__() got an unexpected keyword argument \'proxies\''}
2025-05-21 13:33:13,669 - message-queue-api - INFO - Adding new translation job to queue with ID: 62150d5f-8106-4014-b5fd-182b5708d128
2025-05-21 13:33:13,669 - message-queue-api - INFO - Using model: gpt
2025-05-21 13:33:13,673 - message-queue-api - INFO - High priority message 62150d5f-8106-4014-b5fd-182b5708d128, triggering immediate processing
2025-05-21 13:33:13,680 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:13,679: INFO/MainProcess] Task celery_worker.process_message[ffc85b6b-2a41-41b5-b7fe-df1ce138d0df] received
2025-05-21 13:33:13,685 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:13,684: INFO/MainProcess] Starting translation job 62150d5f-8106-4014-b5fd-182b5708d128 with model gpt
2025-05-21 13:33:13,685 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:13,684: WARNING/MainProcess] [1;33mStarting translation job 62150d5f-8106-4014-b5fd-182b5708d128 with model gpt[0m
2025-05-21 13:33:15,742 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt - ID: 62150d5f-8106-4014-b5fd-182b5708d128
2025-05-21 13:33:15,745 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:15,744: INFO/MainProcess] Updated status for message 62150d5f-8106-4014-b5fd-182b5708d128: started (0%)
2025-05-21 13:33:15,745 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:15,745: ERROR/MainProcess] Translation error with gpt: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-21 13:33:17,799 - message-queue-api - ERROR - Translation FAILED for message 62150d5f-8106-4014-b5fd-182b5708d128: Translation failed: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-21 13:33:17,802 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:17,801: INFO/MainProcess] Updated status for message 62150d5f-8106-4014-b5fd-182b5708d128: failed (0%)
2025-05-21 13:33:17,802 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:17,802: ERROR/MainProcess] Error during translation: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-21 13:33:19,857 - message-queue-api - ERROR - Translation FAILED for message 62150d5f-8106-4014-b5fd-182b5708d128: Translation failed: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-21 13:33:19,859 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:19,859: INFO/MainProcess] Updated status for message 62150d5f-8106-4014-b5fd-182b5708d128: failed (0%)
2025-05-21 13:33:19,861 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:19,861: INFO/MainProcess] Task celery_worker.process_message[ffc85b6b-2a41-41b5-b7fe-df1ce138d0df] succeeded in 6.171999999904074s: {'status': 'failed', 'message_id': '62150d5f-8106-4014-b5fd-182b5708d128', 'error': 'Client.__init__() got an unexpected keyword argument \'proxies\''}
2025-05-21 13:33:31,931 - message-queue-api - INFO - [Celery] 
2025-05-21 13:33:31,932 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-21 13:33:31,932 - message-queue-api - INFO - [Celery] 
2025-05-21 13:33:31,932 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-21 13:33:34,084 - message-queue-api - ERROR - Celery worker exited with code 1
2025-05-21 13:33:48,177 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 13:33:48,177 - message-queue-api - INFO - Redis is working properly
2025-05-21 13:33:48,204 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-21 13:33:48,204 - message-queue-api - INFO - Celery worker thread started
2025-05-21 13:33:48,204 - message-queue-api - INFO - Starting FastAPI server...
2025-05-21 13:33:48,226 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-21 13:33:48,227 - message-queue-api - INFO - Redis is working properly
2025-05-21 13:33:48,766 - message-queue-api - INFO - [Celery] 
2025-05-21 13:33:48,766 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-21 13:33:48,766 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 13:33:48,766 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-21 13:33:48
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x1f62e0348f0
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] 
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] 
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] [tasks]
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] 
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:48,767: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 13:33:48,767 - message-queue-api - INFO - [Celery] 
2025-05-21 13:33:48,772 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:48,772: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-21 13:33:48,773 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:48,773: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-21 13:33:48,773 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-21 13:33:48,773 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-21 13:33:48,773 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-21 13:33:48,773 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-21 13:33:48,773 - message-queue-api - INFO - [Celery] 
2025-05-21 13:33:48,786 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:48,786: INFO/MainProcess] mingle: searching for neighbors
2025-05-21 13:33:49,813 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:49,813: INFO/MainProcess] mingle: all alone
2025-05-21 13:33:49,843 - message-queue-api - INFO - [Celery] [2025-05-21 13:33:49,843: INFO/MainProcess] celery@hacker ready.
2025-05-21 13:34:00,645 - message-queue-api - INFO - Adding new translation job to queue with ID: 4960115b-c193-4a94-b2a8-68651524e3b2
2025-05-21 13:34:00,645 - message-queue-api - INFO - Using model: gpt
2025-05-21 13:34:00,649 - message-queue-api - INFO - High priority message 4960115b-c193-4a94-b2a8-68651524e3b2, triggering immediate processing
2025-05-21 13:34:00,712 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:00,712: INFO/MainProcess] Task celery_worker.process_message[33d19da5-650b-4220-aad7-94206baa3954] received
2025-05-21 13:34:00,739 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:00,739: INFO/MainProcess] Starting translation job 4960115b-c193-4a94-b2a8-68651524e3b2 with model gpt
2025-05-21 13:34:00,741 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:00,739: WARNING/MainProcess] [1;33mStarting translation job 4960115b-c193-4a94-b2a8-68651524e3b2 with model gpt[0m
2025-05-21 13:34:02,786 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt - ID: 4960115b-c193-4a94-b2a8-68651524e3b2
2025-05-21 13:34:02,787 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:02,787: INFO/MainProcess] Updated status for message 4960115b-c193-4a94-b2a8-68651524e3b2: started (0%)
2025-05-21 13:34:03,203 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:03,203: ERROR/MainProcess] OpenAI translation error:
2025-05-21 13:34:03,204 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:03,204 - message-queue-api - INFO - [Celery] You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
2025-05-21 13:34:03,204 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:03,204 - message-queue-api - INFO - [Celery] You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
2025-05-21 13:34:03,204 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:03,205 - message-queue-api - INFO - [Celery] Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
2025-05-21 13:34:03,205 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:03,205 - message-queue-api - INFO - [Celery] A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
2025-05-21 13:34:03,205 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:03,203: ERROR/MainProcess] Translation error with gpt:
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
2025-05-21 13:34:03,206 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:05,276 - message-queue-api - ERROR - Translation FAILED for message 4960115b-c193-4a94-b2a8-68651524e3b2: Translation failed: 

You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-05-21 13:34:05,279 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:05,279: INFO/MainProcess] Updated status for message 4960115b-c193-4a94-b2a8-68651524e3b2: failed (0%)
2025-05-21 13:34:05,279 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:05,279: ERROR/MainProcess] Error during translation:
2025-05-21 13:34:05,280 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:05,280 - message-queue-api - INFO - [Celery] You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
2025-05-21 13:34:05,280 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:05,280 - message-queue-api - INFO - [Celery] You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
2025-05-21 13:34:05,280 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:05,280 - message-queue-api - INFO - [Celery] Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
2025-05-21 13:34:05,281 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:05,281 - message-queue-api - INFO - [Celery] A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
2025-05-21 13:34:05,281 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:07,332 - message-queue-api - ERROR - Translation FAILED for message 4960115b-c193-4a94-b2a8-68651524e3b2: Translation failed: 

You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-05-21 13:34:07,334 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:07,334: INFO/MainProcess] Updated status for message 4960115b-c193-4a94-b2a8-68651524e3b2: failed (0%)
2025-05-21 13:34:07,336 - message-queue-api - INFO - [Celery] [2025-05-21 13:34:07,336: INFO/MainProcess] Task celery_worker.process_message[33d19da5-650b-4220-aad7-94206baa3954] succeeded in 6.625s: {'status': 'failed', 'message_id': '4960115b-c193-4a94-b2a8-68651524e3b2', 'error': '
2025-05-21 13:34:07,336 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:07,336 - message-queue-api - INFO - [Celery] You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
2025-05-21 13:34:07,336 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:07,336 - message-queue-api - INFO - [Celery] You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
2025-05-21 13:34:07,338 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:07,338 - message-queue-api - INFO - [Celery] Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
2025-05-21 13:34:07,338 - message-queue-api - INFO - [Celery] 
2025-05-21 13:34:07,338 - message-queue-api - INFO - [Celery] A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
2025-05-21 13:34:07,338 - message-queue-api - INFO - [Celery] '}
2025-05-22 09:45:17,180 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 09:45:17,180 - message-queue-api - INFO - Redis is working properly
2025-05-22 09:45:17,237 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 09:45:17,237 - message-queue-api - INFO - Celery worker thread started
2025-05-22 09:45:17,238 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 09:45:17,267 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 09:45:17,267 - message-queue-api - INFO - Redis is working properly
2025-05-22 09:45:18,131 - message-queue-api - INFO - [Celery] 
2025-05-22 09:45:18,132 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 09:45:18,132 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 09:45:18,132 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 09:45:18
2025-05-22 09:45:18,132 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 09:45:18,132 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 09:45:18,132 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x2602581a0f0
2025-05-22 09:45:18,132 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 09:45:18,133 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 09:45:18,133 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 09:45:18,133 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 09:45:18,133 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 09:45:18,133 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 09:45:18,133 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 09:45:18,133 - message-queue-api - INFO - [Celery] 
2025-05-22 09:45:18,133 - message-queue-api - INFO - [Celery] 
2025-05-22 09:45:18,134 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 09:45:18,134 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 09:45:18,134 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 09:45:18,134 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 09:45:18,134 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 09:45:18,134 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 09:45:18,135 - message-queue-api - INFO - [Celery] 
2025-05-22 09:45:18,149 - message-queue-api - INFO - [Celery] [2025-05-22 09:45:18,149: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 09:45:18,150 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 09:45:18,150 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 09:45:18,151 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 09:45:18,151 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 09:45:18,151 - message-queue-api - INFO - [Celery] 
2025-05-22 09:45:18,164 - message-queue-api - INFO - [Celery] [2025-05-22 09:45:18,164: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 09:45:18,166 - message-queue-api - INFO - [Celery] [2025-05-22 09:45:18,166: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 09:45:18,166 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 09:45:18,166 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 09:45:18,166 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 09:45:18,168 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 09:45:18,168 - message-queue-api - INFO - [Celery] 
2025-05-22 09:45:18,175 - message-queue-api - INFO - [Celery] [2025-05-22 09:45:18,175: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 09:45:19,217 - message-queue-api - INFO - [Celery] [2025-05-22 09:45:19,217: INFO/MainProcess] mingle: all alone
2025-05-22 09:45:19,273 - message-queue-api - INFO - [Celery] [2025-05-22 09:45:19,271: INFO/MainProcess] celery@hacker ready.
2025-05-22 09:49:20,418 - message-queue-api - INFO - Adding new translation job to queue with ID: 5969cc32-acb1-403f-b604-54c19061bd34
2025-05-22 09:49:20,419 - message-queue-api - INFO - Using model: gpt-3
2025-05-22 09:49:20,423 - message-queue-api - INFO - High priority message 5969cc32-acb1-403f-b604-54c19061bd34, triggering immediate processing
2025-05-22 09:49:20,494 - message-queue-api - INFO - [Celery] [2025-05-22 09:49:20,493: INFO/MainProcess] Task celery_worker.process_message[9479fbfa-51dd-474c-aaa1-5cdbf60952c5] received
2025-05-22 09:49:20,503 - message-queue-api - INFO - [Celery] [2025-05-22 09:49:20,503: INFO/MainProcess] Starting translation job 5969cc32-acb1-403f-b604-54c19061bd34 with model gpt-3
2025-05-22 09:49:20,503 - message-queue-api - INFO - [Celery] [2025-05-22 09:49:20,503: WARNING/MainProcess] [1;33mStarting translation job 5969cc32-acb1-403f-b604-54c19061bd34 with model gpt-3[0m
2025-05-22 09:49:22,544 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt-3 - ID: 5969cc32-acb1-403f-b604-54c19061bd34
2025-05-22 09:49:22,547 - message-queue-api - INFO - [Celery] [2025-05-22 09:49:22,547: INFO/MainProcess] Updated status for message 5969cc32-acb1-403f-b604-54c19061bd34: started (0%)
2025-05-22 09:49:22,957 - message-queue-api - INFO - [Celery] [2025-05-22 09:49:22,957: ERROR/MainProcess] Translation error with gpt-3: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-22 09:49:25,002 - message-queue-api - ERROR - Translation FAILED for message 5969cc32-acb1-403f-b604-54c19061bd34: Translation failed: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-22 09:49:25,005 - message-queue-api - INFO - [Celery] [2025-05-22 09:49:25,004: INFO/MainProcess] Updated status for message 5969cc32-acb1-403f-b604-54c19061bd34: failed (0%)
2025-05-22 09:49:25,005 - message-queue-api - INFO - [Celery] [2025-05-22 09:49:25,005: ERROR/MainProcess] Error during translation: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-22 09:49:27,062 - message-queue-api - ERROR - Translation FAILED for message 5969cc32-acb1-403f-b604-54c19061bd34: Translation failed: Client.__init__() got an unexpected keyword argument 'proxies'
2025-05-22 09:49:27,063 - message-queue-api - INFO - [Celery] [2025-05-22 09:49:27,063: INFO/MainProcess] Updated status for message 5969cc32-acb1-403f-b604-54c19061bd34: failed (0%)
2025-05-22 09:49:27,065 - message-queue-api - INFO - [Celery] [2025-05-22 09:49:27,065: INFO/MainProcess] Task celery_worker.process_message[9479fbfa-51dd-474c-aaa1-5cdbf60952c5] succeeded in 6.563000000081956s: {'status': 'failed', 'message_id': '5969cc32-acb1-403f-b604-54c19061bd34', 'error': 'Client.__init__() got an unexpected keyword argument \'proxies\''}
2025-05-22 09:51:13,492 - message-queue-api - INFO - [Celery] 
2025-05-22 09:51:13,493 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 09:51:13,494 - message-queue-api - INFO - [Celery] 
2025-05-22 09:51:13,494 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 09:53:23,550 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 09:53:23,550 - message-queue-api - INFO - Redis is working properly
2025-05-22 09:53:23,577 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 09:53:23,577 - message-queue-api - INFO - Celery worker thread started
2025-05-22 09:53:23,577 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 09:53:23,604 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 09:53:23,604 - message-queue-api - INFO - Redis is working properly
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] 
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 09:53:24
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x16ae64d5f70
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 09:53:24,493 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 09:53:24,496 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 09:53:24,496 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 09:53:24,496 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 09:53:24,496 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 09:53:24,496 - message-queue-api - INFO - [Celery] 
2025-05-22 09:53:24,496 - message-queue-api - INFO - [Celery] 
2025-05-22 09:53:24,496 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 09:53:24,496 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 09:53:24,496 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 09:53:24,500 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 09:53:24,500 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 09:53:24,501 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 09:53:24,502 - message-queue-api - INFO - [Celery] 
2025-05-22 09:53:24,502 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:24,493: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 09:53:24,502 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 09:53:24,503 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 09:53:24,503 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 09:53:24,503 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 09:53:24,503 - message-queue-api - INFO - [Celery] 
2025-05-22 09:53:24,506 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:24,506: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 09:53:24,510 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:24,510: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 09:53:24,511 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 09:53:24,511 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 09:53:24,513 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 09:53:24,513 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 09:53:24,513 - message-queue-api - INFO - [Celery] 
2025-05-22 09:53:24,520 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:24,519: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 09:53:25,551 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:25,551: INFO/MainProcess] mingle: all alone
2025-05-22 09:53:25,604 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:25,604: INFO/MainProcess] celery@hacker ready.
2025-05-22 09:53:32,693 - message-queue-api - INFO - Adding new translation job to queue with ID: 22d79427-6b02-4cbd-abdf-1687395cd55b
2025-05-22 09:53:32,693 - message-queue-api - INFO - Using model: gpt-3
2025-05-22 09:53:32,700 - message-queue-api - INFO - High priority message 22d79427-6b02-4cbd-abdf-1687395cd55b, triggering immediate processing
2025-05-22 09:53:32,774 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:32,766: INFO/MainProcess] Task celery_worker.process_message[38f56953-012f-4bb7-a197-a7cba425c9b1] received
2025-05-22 09:53:32,784 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:32,783: INFO/MainProcess] Starting translation job 22d79427-6b02-4cbd-abdf-1687395cd55b with model gpt-3
2025-05-22 09:53:32,784 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:32,783: WARNING/MainProcess] [1;33mStarting translation job 22d79427-6b02-4cbd-abdf-1687395cd55b with model gpt-3[0m
2025-05-22 09:53:34,826 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt-3 - ID: 22d79427-6b02-4cbd-abdf-1687395cd55b
2025-05-22 09:53:34,831 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:34,831: INFO/MainProcess] Updated status for message 22d79427-6b02-4cbd-abdf-1687395cd55b: started (0%)
2025-05-22 09:53:35,382 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:35,382: WARNING/MainProcess] started translation via openai
2025-05-22 09:53:37,932 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:37,932: INFO/MainProcess] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-05-22 09:53:37,933 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:37,933: ERROR/MainProcess] OpenAI translation error: Error code: 404 - {'error': {'message': 'The model `gpt-3` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-05-22 09:53:37,933 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:37,933: ERROR/MainProcess] Translation error with gpt-3: Error code: 404 - {'error': {'message': 'The model `gpt-3` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-05-22 09:53:39,975 - message-queue-api - ERROR - Translation FAILED for message 22d79427-6b02-4cbd-abdf-1687395cd55b: Translation failed: Error code: 404 - {'error': {'message': 'The model `gpt-3` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-05-22 09:53:39,978 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:39,978: INFO/MainProcess] Updated status for message 22d79427-6b02-4cbd-abdf-1687395cd55b: failed (0%)
2025-05-22 09:53:39,978 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:39,978: ERROR/MainProcess] Error during translation: Error code: 404 - {'error': {'message': 'The model `gpt-3` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-05-22 09:53:42,026 - message-queue-api - ERROR - Translation FAILED for message 22d79427-6b02-4cbd-abdf-1687395cd55b: Translation failed: Error code: 404 - {'error': {'message': 'The model `gpt-3` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-05-22 09:53:42,031 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:42,031: INFO/MainProcess] Updated status for message 22d79427-6b02-4cbd-abdf-1687395cd55b: failed (0%)
2025-05-22 09:53:42,037 - message-queue-api - INFO - [Celery] [2025-05-22 09:53:42,037: INFO/MainProcess] Task celery_worker.process_message[38f56953-012f-4bb7-a197-a7cba425c9b1] succeeded in 9.26500000001397s: {'status': 'failed', 'message_id': '22d79427-6b02-4cbd-abdf-1687395cd55b', 'error': 'Error code: 404 - {\'error\': {\'message\': \'The model `gpt-3` does not exist or you do not have access to it.\', \'type\': \'invalid_request_error\', \'param\': None, \'code\': \'model_not_found\'}}'}
2025-05-22 10:12:21,398 - message-queue-api - INFO - Adding new translation job to queue with ID: 7a31e05d-3206-423f-b9aa-4686f42c8a48
2025-05-22 10:12:21,399 - message-queue-api - INFO - Using model: gpt-4.1
2025-05-22 10:12:21,404 - message-queue-api - INFO - High priority message 7a31e05d-3206-423f-b9aa-4686f42c8a48, triggering immediate processing
2025-05-22 10:12:21,416 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:21,416: INFO/MainProcess] Task celery_worker.process_message[f0daf965-b029-4929-99e1-9b0a45058c95] received
2025-05-22 10:12:21,420 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:21,420: INFO/MainProcess] Starting translation job 7a31e05d-3206-423f-b9aa-4686f42c8a48 with model gpt-4.1
2025-05-22 10:12:21,421 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:21,420: WARNING/MainProcess] [1;33mStarting translation job 7a31e05d-3206-423f-b9aa-4686f42c8a48 with model gpt-4.1[0m
2025-05-22 10:12:23,473 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: gpt-4.1 - ID: 7a31e05d-3206-423f-b9aa-4686f42c8a48
2025-05-22 10:12:23,474 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:23,474: INFO/MainProcess] Updated status for message 7a31e05d-3206-423f-b9aa-4686f42c8a48: started (0%)
2025-05-22 10:12:23,476 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:23,474: WARNING/MainProcess] started translation via openai
2025-05-22 10:12:24,650 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:24,649: INFO/MainProcess] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-05-22 10:12:24,650 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:24,650: INFO/MainProcess] Retrying request to /chat/completions in 0.791084 seconds
2025-05-22 10:12:25,920 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:25,920: INFO/MainProcess] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-05-22 10:12:25,920 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:25,920: INFO/MainProcess] Retrying request to /chat/completions in 1.995850 seconds
2025-05-22 10:12:28,320 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:28,319: INFO/MainProcess] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-05-22 10:12:28,320 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:28,320: ERROR/MainProcess] OpenAI translation error: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-05-22 10:12:28,320 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:28,320: ERROR/MainProcess] Translation error with gpt-4.1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-05-22 10:12:30,368 - message-queue-api - ERROR - Translation FAILED for message 7a31e05d-3206-423f-b9aa-4686f42c8a48: Translation failed: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-05-22 10:12:30,370 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:30,370: INFO/MainProcess] Updated status for message 7a31e05d-3206-423f-b9aa-4686f42c8a48: failed (0%)
2025-05-22 10:12:30,371 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:30,370: ERROR/MainProcess] Error during translation: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-05-22 10:12:32,406 - message-queue-api - ERROR - Translation FAILED for message 7a31e05d-3206-423f-b9aa-4686f42c8a48: Translation failed: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-05-22 10:12:32,407 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:32,407: INFO/MainProcess] Updated status for message 7a31e05d-3206-423f-b9aa-4686f42c8a48: failed (0%)
2025-05-22 10:12:32,412 - message-queue-api - INFO - [Celery] [2025-05-22 10:12:32,410: INFO/MainProcess] Task celery_worker.process_message[f0daf965-b029-4929-99e1-9b0a45058c95] succeeded in 10.98499999998603s: {'status': 'failed', 'message_id': '7a31e05d-3206-423f-b9aa-4686f42c8a48', 'error': 'Error code: 429 - {\'error\': {\'message\': \'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.\', \'type\': \'insufficient_quota\', \'param\': None, \'code\': \'insufficient_quota\'}}'}
2025-05-22 10:13:42,821 - message-queue-api - INFO - Adding new translation job to queue with ID: 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6
2025-05-22 10:13:42,821 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:13:42,826 - message-queue-api - INFO - High priority message 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6, triggering immediate processing
2025-05-22 10:13:42,834 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:42,834: INFO/MainProcess] Task celery_worker.process_message[c24a1c04-5a78-4898-b62d-1df46e00f17f] received
2025-05-22 10:13:42,836 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:42,836: INFO/MainProcess] Starting translation job 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6 with model claude-3-haiku-20240307
2025-05-22 10:13:42,837 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:42,836: WARNING/MainProcess] [1;33mStarting translation job 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6 with model claude-3-haiku-20240307[0m
2025-05-22 10:13:44,876 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6
2025-05-22 10:13:44,877 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:44,877: INFO/MainProcess] Updated status for message 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6: started (0%)
2025-05-22 10:13:45,064 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:45,064: ERROR/MainProcess] Claude AI translation error: 'Anthropic' object has no attribute 'messages'
2025-05-22 10:13:45,064 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:45,064: ERROR/MainProcess] Translation error with claude-3-haiku-20240307: 'Anthropic' object has no attribute 'messages'
2025-05-22 10:13:47,109 - message-queue-api - ERROR - Translation FAILED for message 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6: Translation failed: 'Anthropic' object has no attribute 'messages'
2025-05-22 10:13:47,113 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:47,113: INFO/MainProcess] Updated status for message 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6: failed (0%)
2025-05-22 10:13:47,113 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:47,113: ERROR/MainProcess] Error during translation: 'Anthropic' object has no attribute 'messages'
2025-05-22 10:13:49,152 - message-queue-api - ERROR - Translation FAILED for message 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6: Translation failed: 'Anthropic' object has no attribute 'messages'
2025-05-22 10:13:49,153 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:49,153: INFO/MainProcess] Updated status for message 3784e0f3-95a5-4aec-ae6b-27f6cf53bac6: failed (0%)
2025-05-22 10:13:49,157 - message-queue-api - INFO - [Celery] [2025-05-22 10:13:49,157: INFO/MainProcess] Task celery_worker.process_message[c24a1c04-5a78-4898-b62d-1df46e00f17f] succeeded in 6.312999999965541s: {'status': 'failed', 'message_id': '3784e0f3-95a5-4aec-ae6b-27f6cf53bac6', 'error': '\'Anthropic\' object has no attribute \'messages\''}
2025-05-22 10:15:41,252 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:15:41,252 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:15:41,274 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 10:15:41,274 - message-queue-api - INFO - Celery worker thread started
2025-05-22 10:15:41,276 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 10:15:41,296 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:15:41,297 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:15:41,829 - message-queue-api - INFO - [Celery] 
2025-05-22 10:15:41,829 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 10:15:41,829 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:15:41,830 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 10:15:41
2025-05-22 10:15:41,830 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 10:15:41,830 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 10:15:41,830 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x1160b3153d0
2025-05-22 10:15:41,830 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 10:15:41,830 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 10:15:41,830 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 10:15:41,830 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 10:15:41,830 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:15:41,831 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 10:15:41,831 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 10:15:41,831 - message-queue-api - INFO - [Celery] 
2025-05-22 10:15:41,831 - message-queue-api - INFO - [Celery] 
2025-05-22 10:15:41,832 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 10:15:41,832 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 10:15:41,832 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 10:15:41,832 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 10:15:41,832 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 10:15:41,832 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 10:15:41,832 - message-queue-api - INFO - [Celery] 
2025-05-22 10:15:41,832 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:41,829: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:15:41,832 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:15:41,833 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:15:41,833 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:15:41,833 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:15:41,833 - message-queue-api - INFO - [Celery] 
2025-05-22 10:15:41,836 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:41,836: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 10:15:41,836 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:41,836: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:15:41,836 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:15:41,836 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:15:41,837 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:15:41,837 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:15:41,838 - message-queue-api - INFO - [Celery] 
2025-05-22 10:15:41,840 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:41,840: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 10:15:42,865 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:42,864: INFO/MainProcess] mingle: all alone
2025-05-22 10:15:42,901 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:42,900: INFO/MainProcess] celery@hacker ready.
2025-05-22 10:15:46,939 - message-queue-api - INFO - Adding new translation job to queue with ID: 92385567-7357-4bad-b7b2-5a1b59a6dd3c
2025-05-22 10:15:46,939 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:15:46,942 - message-queue-api - INFO - High priority message 92385567-7357-4bad-b7b2-5a1b59a6dd3c, triggering immediate processing
2025-05-22 10:15:46,989 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:46,989: INFO/MainProcess] Task celery_worker.process_message[3311f75d-a7e3-4aa3-acb2-02230e6aa993] received
2025-05-22 10:15:46,997 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:46,997: INFO/MainProcess] Starting translation job 92385567-7357-4bad-b7b2-5a1b59a6dd3c with model claude-3-haiku-20240307
2025-05-22 10:15:46,998 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:46,997: WARNING/MainProcess] [1;33mStarting translation job 92385567-7357-4bad-b7b2-5a1b59a6dd3c with model claude-3-haiku-20240307[0m
2025-05-22 10:15:49,033 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 92385567-7357-4bad-b7b2-5a1b59a6dd3c
2025-05-22 10:15:49,035 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:49,035: INFO/MainProcess] Updated status for message 92385567-7357-4bad-b7b2-5a1b59a6dd3c: started (0%)
2025-05-22 10:15:49,404 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:49,404: ERROR/MainProcess] Claude AI translation error: 'Anthropic' object has no attribute 'completion'
2025-05-22 10:15:49,404 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:49,404: ERROR/MainProcess] Translation error with claude-3-haiku-20240307: 'Anthropic' object has no attribute 'completion'
2025-05-22 10:15:51,457 - message-queue-api - ERROR - Translation FAILED for message 92385567-7357-4bad-b7b2-5a1b59a6dd3c: Translation failed: 'Anthropic' object has no attribute 'completion'
2025-05-22 10:15:51,459 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:51,459: INFO/MainProcess] Updated status for message 92385567-7357-4bad-b7b2-5a1b59a6dd3c: failed (0%)
2025-05-22 10:15:51,460 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:51,460: ERROR/MainProcess] Error during translation: 'Anthropic' object has no attribute 'completion'
2025-05-22 10:15:53,500 - message-queue-api - ERROR - Translation FAILED for message 92385567-7357-4bad-b7b2-5a1b59a6dd3c: Translation failed: 'Anthropic' object has no attribute 'completion'
2025-05-22 10:15:53,502 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:53,502: INFO/MainProcess] Updated status for message 92385567-7357-4bad-b7b2-5a1b59a6dd3c: failed (0%)
2025-05-22 10:15:53,505 - message-queue-api - INFO - [Celery] [2025-05-22 10:15:53,505: INFO/MainProcess] Task celery_worker.process_message[3311f75d-a7e3-4aa3-acb2-02230e6aa993] succeeded in 6.531000000075437s: {'status': 'failed', 'message_id': '92385567-7357-4bad-b7b2-5a1b59a6dd3c', 'error': '\'Anthropic\' object has no attribute \'completion\''}
2025-05-22 10:19:26,828 - message-queue-api - INFO - Adding new translation job to queue with ID: 334bed88-b786-4e42-b07e-8ac35a74cb7d
2025-05-22 10:19:26,829 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:19:26,833 - message-queue-api - INFO - High priority message 334bed88-b786-4e42-b07e-8ac35a74cb7d, triggering immediate processing
2025-05-22 10:19:28,925 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 334bed88-b786-4e42-b07e-8ac35a74cb7d
2025-05-22 10:19:31,456 - message-queue-api - ERROR - Translation FAILED for message 334bed88-b786-4e42-b07e-8ac35a74cb7d: Translation failed: 'Anthropic' object has no attribute 'messages'
2025-05-22 10:19:33,711 - message-queue-api - ERROR - Translation FAILED for message 334bed88-b786-4e42-b07e-8ac35a74cb7d: Translation failed: 'Anthropic' object has no attribute 'messages'
2025-05-22 10:20:29,491 - message-queue-api - INFO - [Celery] 
2025-05-22 10:20:29,491 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 10:20:29,492 - message-queue-api - INFO - [Celery] 
2025-05-22 10:20:29,492 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 10:20:30,391 - message-queue-api - ERROR - Celery worker exited with code 1
2025-05-22 10:21:00,533 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:21:00,533 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:21:00,553 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 10:21:00,553 - message-queue-api - INFO - Celery worker thread started
2025-05-22 10:21:00,554 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 10:21:00,572 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:21:00,574 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:21:01,282 - message-queue-api - INFO - [Celery] 
2025-05-22 10:21:01,282 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 10:21:01,282 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:21:01,283 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 10:21:01
2025-05-22 10:21:01,283 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 10:21:01,283 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 10:21:01,283 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x230ea887b90
2025-05-22 10:21:01,283 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 10:21:01,283 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 10:21:01,283 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 10:21:01,283 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 10:21:01,284 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:21:01,284 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 10:21:01,284 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 10:21:01,284 - message-queue-api - INFO - [Celery] 
2025-05-22 10:21:01,285 - message-queue-api - INFO - [Celery] 
2025-05-22 10:21:01,285 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 10:21:01,285 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 10:21:01,286 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 10:21:01,286 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 10:21:01,286 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 10:21:01,286 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 10:21:01,287 - message-queue-api - INFO - [Celery] 
2025-05-22 10:21:01,287 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:01,283: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:21:01,287 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:21:01,287 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:21:01,287 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:21:01,289 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:21:01,289 - message-queue-api - INFO - [Celery] 
2025-05-22 10:21:01,294 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:01,293: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 10:21:01,294 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:01,294: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:21:01,294 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:21:01,294 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:21:01,295 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:21:01,295 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:21:01,295 - message-queue-api - INFO - [Celery] 
2025-05-22 10:21:01,301 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:01,301: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 10:21:02,342 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:02,342: INFO/MainProcess] mingle: all alone
2025-05-22 10:21:02,384 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:02,384: INFO/MainProcess] celery@hacker ready.
2025-05-22 10:21:06,214 - message-queue-api - INFO - Adding new translation job to queue with ID: 6bf4bf6f-52af-4889-a9e7-308d33b9b65d
2025-05-22 10:21:06,214 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:21:06,216 - message-queue-api - INFO - High priority message 6bf4bf6f-52af-4889-a9e7-308d33b9b65d, triggering immediate processing
2025-05-22 10:21:06,255 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:06,255: INFO/MainProcess] Task celery_worker.process_message[7d5b6164-f110-4480-ac52-7003d2b9aeb2] received
2025-05-22 10:21:06,261 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:06,261: INFO/MainProcess] Starting translation job 6bf4bf6f-52af-4889-a9e7-308d33b9b65d with model claude-3-haiku-20240307
2025-05-22 10:21:06,262 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:06,261: WARNING/MainProcess] [1;33mStarting translation job 6bf4bf6f-52af-4889-a9e7-308d33b9b65d with model claude-3-haiku-20240307[0m
2025-05-22 10:21:08,294 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 6bf4bf6f-52af-4889-a9e7-308d33b9b65d
2025-05-22 10:21:08,298 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:08,298: INFO/MainProcess] Updated status for message 6bf4bf6f-52af-4889-a9e7-308d33b9b65d: started (0%)
2025-05-22 10:21:11,033 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:11,031: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 10:21:13,077 - message-queue-api - INFO - Translation progress [==========>          ] 50.0% - Model: claude-3-haiku-20240307 - ID: 6bf4bf6f-52af-4889-a9e7-308d33b9b65d
2025-05-22 10:21:13,079 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:13,079: INFO/MainProcess] Updated status for message 6bf4bf6f-52af-4889-a9e7-308d33b9b65d: started (50%)
2025-05-22 10:21:15,119 - message-queue-api - INFO - Translation COMPLETED for message 6bf4bf6f-52af-4889-a9e7-308d33b9b65d using model claude-3-haiku-20240307
2025-05-22 10:21:15,121 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:15,121: INFO/MainProcess] Updated status for message 6bf4bf6f-52af-4889-a9e7-308d33b9b65d: completed (100%)
2025-05-22 10:21:15,126 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:15,126: ERROR/MainProcess] Error during translation: Invalid input of type: 'dict'. Convert to a bytes, string, int or float first.
2025-05-22 10:21:17,161 - message-queue-api - ERROR - Translation FAILED for message 6bf4bf6f-52af-4889-a9e7-308d33b9b65d: Translation failed: Invalid input of type: 'dict'. Convert to a bytes, string, int or float first.
2025-05-22 10:21:17,163 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:17,162: INFO/MainProcess] Updated status for message 6bf4bf6f-52af-4889-a9e7-308d33b9b65d: failed (0%)
2025-05-22 10:21:17,166 - message-queue-api - INFO - [Celery] [2025-05-22 10:21:17,166: INFO/MainProcess] Task celery_worker.process_message[7d5b6164-f110-4480-ac52-7003d2b9aeb2] succeeded in 10.922000000020489s: {'status': 'failed', 'message_id': '6bf4bf6f-52af-4889-a9e7-308d33b9b65d', 'error': 'Invalid input of type: \'dict\'. Convert to a bytes, string, int or float first.'}
2025-05-22 10:23:20,884 - message-queue-api - INFO - Adding new translation job to queue with ID: c2a10b40-5fab-45b7-9c9f-4af07b758662
2025-05-22 10:23:20,885 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:23:20,889 - message-queue-api - INFO - High priority message c2a10b40-5fab-45b7-9c9f-4af07b758662, triggering immediate processing
2025-05-22 10:23:20,897 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:20,896: INFO/MainProcess] Task celery_worker.process_message[f758acaa-5456-4c22-b3c2-3d2179e57c8e] received
2025-05-22 10:23:20,901 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:20,900: INFO/MainProcess] Starting translation job c2a10b40-5fab-45b7-9c9f-4af07b758662 with model claude-3-haiku-20240307
2025-05-22 10:23:20,901 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:20,901: WARNING/MainProcess] [1;33mStarting translation job c2a10b40-5fab-45b7-9c9f-4af07b758662 with model claude-3-haiku-20240307[0m
2025-05-22 10:23:22,943 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: c2a10b40-5fab-45b7-9c9f-4af07b758662
2025-05-22 10:23:22,945 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:22,945: INFO/MainProcess] Updated status for message c2a10b40-5fab-45b7-9c9f-4af07b758662: started (0%)
2025-05-22 10:23:24,324 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:24,324: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 10:23:26,376 - message-queue-api - INFO - Translation progress [==========>          ] 50.0% - Model: claude-3-haiku-20240307 - ID: c2a10b40-5fab-45b7-9c9f-4af07b758662
2025-05-22 10:23:26,378 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:26,377: INFO/MainProcess] Updated status for message c2a10b40-5fab-45b7-9c9f-4af07b758662: started (50%)
2025-05-22 10:23:28,410 - message-queue-api - INFO - Translation COMPLETED for message c2a10b40-5fab-45b7-9c9f-4af07b758662 using model claude-3-haiku-20240307
2025-05-22 10:23:28,412 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:28,412: INFO/MainProcess] Updated status for message c2a10b40-5fab-45b7-9c9f-4af07b758662: completed (100%)
2025-05-22 10:23:28,417 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:28,417: ERROR/MainProcess] Error during translation: Invalid input of type: 'dict'. Convert to a bytes, string, int or float first.
2025-05-22 10:23:30,469 - message-queue-api - ERROR - Translation FAILED for message c2a10b40-5fab-45b7-9c9f-4af07b758662: Translation failed: Invalid input of type: 'dict'. Convert to a bytes, string, int or float first.
2025-05-22 10:23:30,471 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:30,471: INFO/MainProcess] Updated status for message c2a10b40-5fab-45b7-9c9f-4af07b758662: failed (0%)
2025-05-22 10:23:30,474 - message-queue-api - INFO - [Celery] [2025-05-22 10:23:30,474: INFO/MainProcess] Task celery_worker.process_message[f758acaa-5456-4c22-b3c2-3d2179e57c8e] succeeded in 9.577999999979511s: {'status': 'failed', 'message_id': 'c2a10b40-5fab-45b7-9c9f-4af07b758662', 'error': 'Invalid input of type: \'dict\'. Convert to a bytes, string, int or float first.'}
2025-05-22 10:24:41,342 - message-queue-api - INFO - Adding new translation job to queue with ID: f7d8c885-099a-4c50-8e2b-0f70a67bc11b
2025-05-22 10:24:41,342 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:24:41,344 - message-queue-api - INFO - High priority message f7d8c885-099a-4c50-8e2b-0f70a67bc11b, triggering immediate processing
2025-05-22 10:24:41,352 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:41,352: INFO/MainProcess] Task celery_worker.process_message[673d37ac-7420-4eeb-924a-ef78675700a1] received
2025-05-22 10:24:41,356 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:41,356: INFO/MainProcess] Starting translation job f7d8c885-099a-4c50-8e2b-0f70a67bc11b with model claude-3-haiku-20240307
2025-05-22 10:24:41,357 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:41,356: WARNING/MainProcess] [1;33mStarting translation job f7d8c885-099a-4c50-8e2b-0f70a67bc11b with model claude-3-haiku-20240307[0m
2025-05-22 10:24:43,406 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: f7d8c885-099a-4c50-8e2b-0f70a67bc11b
2025-05-22 10:24:43,408 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:43,407: INFO/MainProcess] Updated status for message f7d8c885-099a-4c50-8e2b-0f70a67bc11b: started (0%)
2025-05-22 10:24:45,110 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:45,110: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 10:24:47,141 - message-queue-api - INFO - Translation progress [==========>          ] 50.0% - Model: claude-3-haiku-20240307 - ID: f7d8c885-099a-4c50-8e2b-0f70a67bc11b
2025-05-22 10:24:47,143 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:47,143: INFO/MainProcess] Updated status for message f7d8c885-099a-4c50-8e2b-0f70a67bc11b: started (50%)
2025-05-22 10:24:49,198 - message-queue-api - INFO - Translation COMPLETED for message f7d8c885-099a-4c50-8e2b-0f70a67bc11b using model claude-3-haiku-20240307
2025-05-22 10:24:49,199 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:49,199: INFO/MainProcess] Updated status for message f7d8c885-099a-4c50-8e2b-0f70a67bc11b: completed (100%)
2025-05-22 10:24:49,206 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:49,206: ERROR/MainProcess] Error during translation: Invalid input of type: 'dict'. Convert to a bytes, string, int or float first.
2025-05-22 10:24:51,243 - message-queue-api - ERROR - Translation FAILED for message f7d8c885-099a-4c50-8e2b-0f70a67bc11b: Translation failed: Invalid input of type: 'dict'. Convert to a bytes, string, int or float first.
2025-05-22 10:24:51,246 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:51,246: INFO/MainProcess] Updated status for message f7d8c885-099a-4c50-8e2b-0f70a67bc11b: failed (0%)
2025-05-22 10:24:51,251 - message-queue-api - INFO - [Celery] [2025-05-22 10:24:51,250: INFO/MainProcess] Task celery_worker.process_message[673d37ac-7420-4eeb-924a-ef78675700a1] succeeded in 9.89000000001397s: {'status': 'failed', 'message_id': 'f7d8c885-099a-4c50-8e2b-0f70a67bc11b', 'error': 'Invalid input of type: \'dict\'. Convert to a bytes, string, int or float first.'}
2025-05-22 10:24:56,331 - message-queue-api - INFO - [Celery] 
2025-05-22 10:24:56,332 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 10:24:56,332 - message-queue-api - INFO - [Celery] 
2025-05-22 10:24:56,332 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 10:24:57,482 - message-queue-api - ERROR - Celery worker exited with code 1
2025-05-22 10:25:12,324 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:25:12,324 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:25:12,350 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 10:25:12,350 - message-queue-api - INFO - Celery worker thread started
2025-05-22 10:25:12,350 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 10:25:12,379 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:25:12,379 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:25:12,958 - message-queue-api - INFO - [Celery] 
2025-05-22 10:25:12,959 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 10:25:12,959 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:25:12,959 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 10:25:12
2025-05-22 10:25:12,959 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 10:25:12,959 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 10:25:12,959 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x28c833ba1b0
2025-05-22 10:25:12,959 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 10:25:12,959 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 10:25:12,959 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] 
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] 
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 10:25:12,961 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 10:25:12,962 - message-queue-api - INFO - [Celery] 
2025-05-22 10:25:12,962 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:12,959: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:25:12,962 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:25:12,962 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:25:12,962 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:25:12,962 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:25:12,962 - message-queue-api - INFO - [Celery] 
2025-05-22 10:25:12,967 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:12,967: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 10:25:12,968 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:12,968: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:25:12,968 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:25:12,968 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:25:12,969 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:25:12,971 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:25:12,971 - message-queue-api - INFO - [Celery] 
2025-05-22 10:25:12,983 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:12,983: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 10:25:14,015 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:14,014: INFO/MainProcess] mingle: all alone
2025-05-22 10:25:14,041 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:14,041: INFO/MainProcess] celery@hacker ready.
2025-05-22 10:25:18,358 - message-queue-api - INFO - Adding new translation job to queue with ID: 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379
2025-05-22 10:25:18,358 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:25:18,362 - message-queue-api - INFO - High priority message 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379, triggering immediate processing
2025-05-22 10:25:18,426 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:18,426: INFO/MainProcess] Task celery_worker.process_message[e2ec0425-8c15-4b13-8e7d-c98ecf2f818d] received
2025-05-22 10:25:18,433 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:18,433: INFO/MainProcess] Starting translation job 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379 with model claude-3-haiku-20240307
2025-05-22 10:25:18,434 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:18,433: WARNING/MainProcess] [1;33mStarting translation job 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379 with model claude-3-haiku-20240307[0m
2025-05-22 10:25:20,498 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379
2025-05-22 10:25:20,501 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:20,499: INFO/MainProcess] Updated status for message 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379: started (0%)
2025-05-22 10:25:20,939 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:20,938: INFO/MainProcess] Translating content: what is this all about...
2025-05-22 10:25:21,998 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:21,998: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 10:25:22,002 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:22,001: INFO/MainProcess] Translation successful. Length: 76
2025-05-22 10:25:24,039 - message-queue-api - INFO - Translation progress [==========>          ] 50.0% - Model: claude-3-haiku-20240307 - ID: 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379
2025-05-22 10:25:24,041 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:24,041: INFO/MainProcess] Updated status for message 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379: started (50%)
2025-05-22 10:25:26,068 - message-queue-api - INFO - Translation COMPLETED for message 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379 using model claude-3-haiku-20240307
2025-05-22 10:25:26,070 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:26,070: INFO/MainProcess] Updated status for message 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379: completed (100%)
2025-05-22 10:25:26,087 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:26,085: INFO/MainProcess] Stored translated text in message status for 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379
2025-05-22 10:25:28,118 - message-queue-api - INFO - Translation COMPLETED for message 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379 using model claude-3-haiku-20240307
2025-05-22 10:25:28,121 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:28,121: INFO/MainProcess] Updated status for message 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379: completed (100%)
2025-05-22 10:25:28,121 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:28,121: INFO/MainProcess] Successfully processed translation job: 42fbfd67-9f92-4d03-8bc0-14fa5e7c3379
2025-05-22 10:25:28,123 - message-queue-api - INFO - [Celery] [2025-05-22 10:25:28,123: INFO/MainProcess] Task celery_worker.process_message[e2ec0425-8c15-4b13-8e7d-c98ecf2f818d] succeeded in 9.702999999979511s: {'status': 'completed', 'message_id': '42fbfd67-9f92-4d03-8bc0-14fa5e7c3379'}
2025-05-22 10:30:35,052 - message-queue-api - INFO - [Celery] 
2025-05-22 10:30:35,053 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 10:30:35,054 - message-queue-api - INFO - [Celery] 
2025-05-22 10:30:35,054 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 10:30:37,103 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:30:37,104 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:30:37,122 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 10:30:37,122 - message-queue-api - INFO - Celery worker thread started
2025-05-22 10:30:37,123 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 10:30:37,152 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:30:37,153 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:30:37,771 - message-queue-api - INFO - [Celery] 
2025-05-22 10:30:37,772 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 10:30:37,772 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:30:37,772 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 10:30:37
2025-05-22 10:30:37,772 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 10:30:37,772 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 10:30:37,772 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x2579450df70
2025-05-22 10:30:37,773 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 10:30:37,773 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 10:30:37,773 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 10:30:37,773 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 10:30:37,773 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:30:37,773 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 10:30:37,773 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 10:30:37,773 - message-queue-api - INFO - [Celery] 
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] 
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] 
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] [2025-05-22 10:30:37,772: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:30:37,774 - message-queue-api - INFO - [Celery] 
2025-05-22 10:30:37,779 - message-queue-api - INFO - [Celery] [2025-05-22 10:30:37,779: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 10:30:37,779 - message-queue-api - INFO - [Celery] [2025-05-22 10:30:37,779: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:30:37,781 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:30:37,781 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:30:37,781 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:30:37,781 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:30:37,781 - message-queue-api - INFO - [Celery] 
2025-05-22 10:30:37,789 - message-queue-api - INFO - [Celery] [2025-05-22 10:30:37,789: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 10:30:38,814 - message-queue-api - INFO - [Celery] [2025-05-22 10:30:38,813: INFO/MainProcess] mingle: all alone
2025-05-22 10:30:38,841 - message-queue-api - INFO - [Celery] [2025-05-22 10:30:38,841: INFO/MainProcess] celery@hacker ready.
2025-05-22 10:31:09,503 - message-queue-api - INFO - Adding new translation job to queue with ID: c397d4be-845e-419f-9314-f17d87ca8df2
2025-05-22 10:31:09,504 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:31:09,508 - message-queue-api - INFO - High priority message c397d4be-845e-419f-9314-f17d87ca8df2, triggering immediate processing
2025-05-22 10:31:09,564 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:09,563: INFO/MainProcess] Task celery_worker.process_message[b9c03642-f686-4507-b586-baab6a6f906d] received
2025-05-22 10:31:09,583 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:09,583: INFO/MainProcess] Starting translation job c397d4be-845e-419f-9314-f17d87ca8df2 with model claude-3-haiku-20240307
2025-05-22 10:31:09,585 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:09,583: WARNING/MainProcess] [1;33mStarting translation job c397d4be-845e-419f-9314-f17d87ca8df2 with model claude-3-haiku-20240307[0m
2025-05-22 10:31:11,625 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: c397d4be-845e-419f-9314-f17d87ca8df2
2025-05-22 10:31:11,633 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:11,633: INFO/MainProcess] Updated status for message c397d4be-845e-419f-9314-f17d87ca8df2: started (0%)
2025-05-22 10:31:12,048 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:12,047: INFO/MainProcess] Translating content: what is this all about? please let me know...
2025-05-22 10:31:13,599 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:13,599: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 10:31:13,602 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:13,602: INFO/MainProcess] Translation successful. Length: 85
2025-05-22 10:31:15,655 - message-queue-api - INFO - Translation progress [==========>          ] 50.0% - Model: claude-3-haiku-20240307 - ID: c397d4be-845e-419f-9314-f17d87ca8df2
2025-05-22 10:31:15,657 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:15,656: INFO/MainProcess] Updated status for message c397d4be-845e-419f-9314-f17d87ca8df2: started (50%)
2025-05-22 10:31:17,695 - message-queue-api - INFO - Translation COMPLETED for message c397d4be-845e-419f-9314-f17d87ca8df2 using model claude-3-haiku-20240307
2025-05-22 10:31:17,697 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:17,697: INFO/MainProcess] Updated status for message c397d4be-845e-419f-9314-f17d87ca8df2: completed (100%)
2025-05-22 10:31:17,708 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:17,708: INFO/MainProcess] Stored translated text in message status for c397d4be-845e-419f-9314-f17d87ca8df2
2025-05-22 10:31:19,749 - message-queue-api - INFO - Translation COMPLETED for message c397d4be-845e-419f-9314-f17d87ca8df2 using model claude-3-haiku-20240307
2025-05-22 10:31:19,752 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:19,752: INFO/MainProcess] Updated status for message c397d4be-845e-419f-9314-f17d87ca8df2: completed (100%)
2025-05-22 10:31:19,753 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:19,752: INFO/MainProcess] Successfully processed translation job: c397d4be-845e-419f-9314-f17d87ca8df2
2025-05-22 10:31:19,756 - message-queue-api - INFO - [Celery] [2025-05-22 10:31:19,756: INFO/MainProcess] Task celery_worker.process_message[b9c03642-f686-4507-b586-baab6a6f906d] succeeded in 10.202999999979511s: {'status': 'completed', 'message_id': 'c397d4be-845e-419f-9314-f17d87ca8df2'}
2025-05-22 10:33:55,094 - message-queue-api - INFO - [Celery] 
2025-05-22 10:33:55,094 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 10:33:55,094 - message-queue-api - INFO - [Celery] 
2025-05-22 10:33:55,094 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 10:33:57,183 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:33:57,183 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:33:57,199 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 10:33:57,199 - message-queue-api - INFO - Celery worker thread started
2025-05-22 10:33:57,200 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 10:33:57,217 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:33:57,219 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:33:57,688 - message-queue-api - INFO - [Celery] 
2025-05-22 10:33:57,689 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 10:33:57,689 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:33:57,689 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 10:33:57
2025-05-22 10:33:57,689 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 10:33:57,689 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 10:33:57,689 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x19c9c867b90
2025-05-22 10:33:57,689 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 10:33:57,689 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 10:33:57,689 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] 
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] 
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 10:33:57,690 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 10:33:57,691 - message-queue-api - INFO - [Celery] 
2025-05-22 10:33:57,691 - message-queue-api - INFO - [Celery] [2025-05-22 10:33:57,689: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:33:57,691 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:33:57,691 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:33:57,691 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:33:57,691 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:33:57,691 - message-queue-api - INFO - [Celery] 
2025-05-22 10:33:57,694 - message-queue-api - INFO - [Celery] [2025-05-22 10:33:57,694: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 10:33:57,694 - message-queue-api - INFO - [Celery] [2025-05-22 10:33:57,694: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:33:57,694 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:33:57,694 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:33:57,696 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:33:57,696 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:33:57,696 - message-queue-api - INFO - [Celery] 
2025-05-22 10:33:57,700 - message-queue-api - INFO - [Celery] [2025-05-22 10:33:57,699: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 10:33:58,726 - message-queue-api - INFO - [Celery] [2025-05-22 10:33:58,724: INFO/MainProcess] mingle: all alone
2025-05-22 10:33:58,761 - message-queue-api - INFO - [Celery] [2025-05-22 10:33:58,761: INFO/MainProcess] celery@hacker ready.
2025-05-22 10:34:27,409 - message-queue-api - INFO - Adding new translation job to queue with ID: 97d6078a-074a-420e-9d02-1bb596bf1a59
2025-05-22 10:34:27,409 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:34:27,413 - message-queue-api - INFO - High priority message 97d6078a-074a-420e-9d02-1bb596bf1a59, triggering immediate processing
2025-05-22 10:34:27,457 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:27,456: INFO/MainProcess] Task celery_worker.process_message[5480ffbf-6a55-456c-b623-c366a040dbcd] received
2025-05-22 10:34:27,464 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:27,463: INFO/MainProcess] Starting translation job 97d6078a-074a-420e-9d02-1bb596bf1a59 with model claude-3-haiku-20240307
2025-05-22 10:34:27,464 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:27,464: WARNING/MainProcess] [1;33mStarting translation job 97d6078a-074a-420e-9d02-1bb596bf1a59 with model claude-3-haiku-20240307[0m
2025-05-22 10:34:29,506 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 97d6078a-074a-420e-9d02-1bb596bf1a59
2025-05-22 10:34:29,508 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:29,508: INFO/MainProcess] Updated status for message 97d6078a-074a-420e-9d02-1bb596bf1a59: started (0%)
2025-05-22 10:34:29,906 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:29,905: INFO/MainProcess] Translating content: my name is kunsang and i am 5 years old...
2025-05-22 10:34:31,542 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:31,542: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 10:34:31,546 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:31,546: INFO/MainProcess] Translation successful. Length: 109
2025-05-22 10:34:33,581 - message-queue-api - INFO - Translation progress [==========>          ] 50.0% - Model: claude-3-haiku-20240307 - ID: 97d6078a-074a-420e-9d02-1bb596bf1a59
2025-05-22 10:34:33,583 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:33,583: INFO/MainProcess] Updated status for message 97d6078a-074a-420e-9d02-1bb596bf1a59: started (50%)
2025-05-22 10:34:35,618 - message-queue-api - INFO - Translation COMPLETED for message 97d6078a-074a-420e-9d02-1bb596bf1a59 using model claude-3-haiku-20240307
2025-05-22 10:34:35,620 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:35,620: INFO/MainProcess] Updated status for message 97d6078a-074a-420e-9d02-1bb596bf1a59: completed (100%)
2025-05-22 10:34:35,634 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:35,633: INFO/MainProcess] Stored translated text in message status for 97d6078a-074a-420e-9d02-1bb596bf1a59
2025-05-22 10:34:37,689 - message-queue-api - INFO - Translation COMPLETED for message 97d6078a-074a-420e-9d02-1bb596bf1a59 using model claude-3-haiku-20240307
2025-05-22 10:34:37,691 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:37,691: INFO/MainProcess] Updated status for message 97d6078a-074a-420e-9d02-1bb596bf1a59: completed (100%)
2025-05-22 10:34:37,692 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:37,691: INFO/MainProcess] Successfully processed translation job: 97d6078a-074a-420e-9d02-1bb596bf1a59
2025-05-22 10:34:37,693 - message-queue-api - INFO - [Celery] [2025-05-22 10:34:37,693: INFO/MainProcess] Task celery_worker.process_message[5480ffbf-6a55-456c-b623-c366a040dbcd] succeeded in 10.25s: {'status': 'completed', 'message_id': '97d6078a-074a-420e-9d02-1bb596bf1a59'}
2025-05-22 10:35:40,995 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:35:40,995 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:35:41,014 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 10:35:41,014 - message-queue-api - INFO - Celery worker thread started
2025-05-22 10:35:41,014 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 10:35:41,035 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:35:41,035 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:35:41,541 - message-queue-api - INFO - [Celery] 
2025-05-22 10:35:41,542 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 10:35:41,542 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:35:41,542 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 10:35:41
2025-05-22 10:35:41,542 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 10:35:41,542 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 10:35:41,542 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x21fbda0d3a0
2025-05-22 10:35:41,542 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 10:35:41,542 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 10:35:41,543 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 10:35:41,543 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 10:35:41,543 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:35:41,543 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 10:35:41,543 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 10:35:41,543 - message-queue-api - INFO - [Celery] 
2025-05-22 10:35:41,543 - message-queue-api - INFO - [Celery] 
2025-05-22 10:35:41,543 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 10:35:41,544 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 10:35:41,544 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 10:35:41,544 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 10:35:41,545 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 10:35:41,545 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 10:35:41,545 - message-queue-api - INFO - [Celery] 
2025-05-22 10:35:41,545 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:41,542: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:35:41,545 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:35:41,545 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:35:41,545 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:35:41,546 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:35:41,546 - message-queue-api - INFO - [Celery] 
2025-05-22 10:35:41,550 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:41,550: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 10:35:41,551 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:41,550: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:35:41,551 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:35:41,551 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:35:41,551 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:35:41,551 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:35:41,551 - message-queue-api - INFO - [Celery] 
2025-05-22 10:35:41,556 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:41,556: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 10:35:42,591 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:42,591: INFO/MainProcess] mingle: all alone
2025-05-22 10:35:42,620 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:42,620: INFO/MainProcess] celery@hacker ready.
2025-05-22 10:35:47,325 - message-queue-api - INFO - Adding new translation job to queue with ID: b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8
2025-05-22 10:35:47,326 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:35:47,328 - message-queue-api - INFO - High priority message b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8, triggering immediate processing
2025-05-22 10:35:47,369 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:47,369: INFO/MainProcess] Task celery_worker.process_message[6dd4de82-17eb-4b88-a72e-1bd2e2e9da03] received
2025-05-22 10:35:47,375 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:47,375: INFO/MainProcess] Starting translation job b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8 with model claude-3-haiku-20240307
2025-05-22 10:35:47,376 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:47,375: WARNING/MainProcess] [1;33mStarting translation job b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8 with model claude-3-haiku-20240307[0m
2025-05-22 10:35:49,418 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8
2025-05-22 10:35:49,422 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:49,422: INFO/MainProcess] Updated status for message b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8: started (0%)
2025-05-22 10:35:49,923 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:49,923: INFO/MainProcess] Translating content: my name is kunsang and i am 5 years old...
2025-05-22 10:35:51,460 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:51,460: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 10:35:51,465 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:51,465: INFO/MainProcess] Translation successful. Length: 40
2025-05-22 10:35:53,508 - message-queue-api - INFO - Translation progress [==========>          ] 50.0% - Model: claude-3-haiku-20240307 - ID: b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8
2025-05-22 10:35:53,510 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:53,510: INFO/MainProcess] Updated status for message b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8: started (50%)
2025-05-22 10:35:55,559 - message-queue-api - INFO - Translation COMPLETED for message b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8 using model claude-3-haiku-20240307
2025-05-22 10:35:55,562 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:55,562: INFO/MainProcess] Updated status for message b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8: completed (100%)
2025-05-22 10:35:55,567 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:55,567: INFO/MainProcess] Stored translated text in message status for b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8
2025-05-22 10:35:57,614 - message-queue-api - INFO - Translation COMPLETED for message b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8 using model claude-3-haiku-20240307
2025-05-22 10:35:57,615 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:57,615: INFO/MainProcess] Updated status for message b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8: completed (100%)
2025-05-22 10:35:57,617 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:57,615: INFO/MainProcess] Successfully processed translation job: b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8
2025-05-22 10:35:57,619 - message-queue-api - INFO - [Celery] [2025-05-22 10:35:57,618: INFO/MainProcess] Task celery_worker.process_message[6dd4de82-17eb-4b88-a72e-1bd2e2e9da03] succeeded in 10.25s: {'status': 'completed', 'message_id': 'b5d63148-7fa9-4fe8-bd7a-84d1b0ab35d8'}
2025-05-22 10:52:44,976 - message-queue-api - INFO - Adding new translation job to queue with ID: 560814c4-7db4-4058-8e8f-f5407449699a
2025-05-22 10:52:44,977 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:52:44,982 - message-queue-api - INFO - High priority message 560814c4-7db4-4058-8e8f-f5407449699a, triggering immediate processing
2025-05-22 10:52:44,991 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:44,990: INFO/MainProcess] Task celery_worker.process_message[cb1e3aa6-09b1-4991-84e7-90156274ae74] received
2025-05-22 10:52:44,993 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:44,993: INFO/MainProcess] Starting translation job 560814c4-7db4-4058-8e8f-f5407449699a with model claude-3-haiku-20240307
2025-05-22 10:52:44,994 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:44,993: WARNING/MainProcess] [1;33mStarting translation job 560814c4-7db4-4058-8e8f-f5407449699a with model claude-3-haiku-20240307[0m
2025-05-22 10:52:47,030 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 560814c4-7db4-4058-8e8f-f5407449699a
2025-05-22 10:52:47,033 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:47,032: INFO/MainProcess] Updated status for message 560814c4-7db4-4058-8e8f-f5407449699a: started (0%)
2025-05-22 10:52:47,281 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:47,281: INFO/MainProcess] Translating content: my name is kunsang and i am 5 years old...
2025-05-22 10:52:49,545 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:49,545: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 10:52:49,546 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:49,546: INFO/MainProcess] Translation successful. Length: 40
2025-05-22 10:52:51,593 - message-queue-api - INFO - Translation progress [==========>          ] 50.0% - Model: claude-3-haiku-20240307 - ID: 560814c4-7db4-4058-8e8f-f5407449699a
2025-05-22 10:52:51,594 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:51,594: INFO/MainProcess] Updated status for message 560814c4-7db4-4058-8e8f-f5407449699a: started (50%)
2025-05-22 10:52:53,632 - message-queue-api - INFO - Translation COMPLETED for message 560814c4-7db4-4058-8e8f-f5407449699a using model claude-3-haiku-20240307
2025-05-22 10:52:53,634 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:53,634: INFO/MainProcess] Updated status for message 560814c4-7db4-4058-8e8f-f5407449699a: completed (100%)
2025-05-22 10:52:53,644 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:53,644: INFO/MainProcess] Stored translated text in message status for 560814c4-7db4-4058-8e8f-f5407449699a
2025-05-22 10:52:55,704 - message-queue-api - INFO - Translation COMPLETED for message 560814c4-7db4-4058-8e8f-f5407449699a using model claude-3-haiku-20240307
2025-05-22 10:52:55,707 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:55,707: INFO/MainProcess] Updated status for message 560814c4-7db4-4058-8e8f-f5407449699a: completed (100%)
2025-05-22 10:52:55,707 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:55,707: INFO/MainProcess] Successfully processed translation job: 560814c4-7db4-4058-8e8f-f5407449699a
2025-05-22 10:52:55,712 - message-queue-api - INFO - [Celery] [2025-05-22 10:52:55,712: INFO/MainProcess] Task celery_worker.process_message[cb1e3aa6-09b1-4991-84e7-90156274ae74] succeeded in 10.719000000040978s: {'status': 'completed', 'message_id': '560814c4-7db4-4058-8e8f-f5407449699a'}
2025-05-22 10:53:06,203 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:53:06,204 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:53:06,228 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 10:53:06,228 - message-queue-api - INFO - Celery worker thread started
2025-05-22 10:53:06,228 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 10:53:06,250 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 10:53:06,250 - message-queue-api - INFO - Redis is working properly
2025-05-22 10:53:06,823 - message-queue-api - INFO - [Celery] 
2025-05-22 10:53:06,823 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 10:53:06,823 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:53:06,823 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 10:53:06
2025-05-22 10:53:06,824 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 10:53:06,824 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 10:53:06,824 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x29590cc3650
2025-05-22 10:53:06,824 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 10:53:06,824 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 10:53:06,824 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 10:53:06,825 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 10:53:06,825 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 10:53:06,825 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 10:53:06,825 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 10:53:06,825 - message-queue-api - INFO - [Celery] 
2025-05-22 10:53:06,825 - message-queue-api - INFO - [Celery] 
2025-05-22 10:53:06,825 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 10:53:06,825 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 10:53:06,826 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 10:53:06,826 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 10:53:06,826 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 10:53:06,826 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 10:53:06,826 - message-queue-api - INFO - [Celery] 
2025-05-22 10:53:06,826 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:06,824: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:53:06,826 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:53:06,826 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:53:06,826 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:53:06,827 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:53:06,827 - message-queue-api - INFO - [Celery] 
2025-05-22 10:53:06,831 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:06,831: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 10:53:06,832 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:06,832: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 10:53:06,832 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 10:53:06,832 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 10:53:06,832 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 10:53:06,832 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 10:53:06,833 - message-queue-api - INFO - [Celery] 
2025-05-22 10:53:06,837 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:06,837: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 10:53:07,856 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:07,856: INFO/MainProcess] mingle: all alone
2025-05-22 10:53:07,900 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:07,900: INFO/MainProcess] celery@hacker ready.
2025-05-22 10:53:15,431 - message-queue-api - INFO - Adding new translation job to queue with ID: 0326ce99-3c44-4a1e-af2f-2c04cbfe7279
2025-05-22 10:53:15,431 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:53:15,434 - message-queue-api - INFO - High priority message 0326ce99-3c44-4a1e-af2f-2c04cbfe7279, triggering immediate processing
2025-05-22 10:53:15,490 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:15,490: INFO/MainProcess] Task celery_worker.process_message[d013e062-efe7-4145-aba9-3e59e2188c7a] received
2025-05-22 10:53:15,516 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:15,516: INFO/MainProcess] Segmenting text for message 0326ce99-3c44-4a1e-af2f-2c04cbfe7279
2025-05-22 10:53:15,516 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:15,516: INFO/MainProcess] Text segmented into 1 segments
2025-05-22 10:53:17,562 - message-queue-api - INFO - Translation progress [==>                  ] 10.0% - Model: claude-3-haiku-20240307 - ID: 0326ce99-3c44-4a1e-af2f-2c04cbfe7279
2025-05-22 10:53:17,565 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:17,565: INFO/MainProcess] Updated status for message 0326ce99-3c44-4a1e-af2f-2c04cbfe7279: started (10%)
2025-05-22 10:53:19,607 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 0326ce99-3c44-4a1e-af2f-2c04cbfe7279
2025-05-22 10:53:19,610 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:19,610: INFO/MainProcess] Updated status for message 0326ce99-3c44-4a1e-af2f-2c04cbfe7279: started (0%)
2025-05-22 10:53:19,610 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:19,610: INFO/MainProcess] Translating segment 1/1 for message 0326ce99-3c44-4a1e-af2f-2c04cbfe7279
2025-05-22 10:53:20,079 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:20,078: INFO/MainProcess] Translating content: my name is kunsang and i am 5 years old...
2025-05-22 10:53:22,411 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:22,411: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 10:53:22,414 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:22,414: INFO/MainProcess] Translation successful. Length: 44
2025-05-22 10:53:22,428 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:22,428: INFO/MainProcess] Stored translated text in message status for 0326ce99-3c44-4a1e-af2f-2c04cbfe7279
2025-05-22 10:53:24,483 - message-queue-api - INFO - Translation COMPLETED for message 0326ce99-3c44-4a1e-af2f-2c04cbfe7279 using model claude-3-haiku-20240307
2025-05-22 10:53:24,485 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:24,485: INFO/MainProcess] Updated status for message 0326ce99-3c44-4a1e-af2f-2c04cbfe7279: completed (100%)
2025-05-22 10:53:24,486 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:24,485: INFO/MainProcess] Successfully processed translation job: 0326ce99-3c44-4a1e-af2f-2c04cbfe7279
2025-05-22 10:53:24,486 - message-queue-api - INFO - [Celery] [2025-05-22 10:53:24,486: INFO/MainProcess] Task celery_worker.process_message[d013e062-efe7-4145-aba9-3e59e2188c7a] succeeded in 8.98499999998603s: {'status': 'completed', 'message_id': '0326ce99-3c44-4a1e-af2f-2c04cbfe7279'}
2025-05-22 10:55:54,489 - message-queue-api - INFO - Adding new translation job to queue with ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:55:54,489 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 10:55:54,541 - message-queue-api - INFO - High priority message 4415b22c-a931-4853-ab48-749d66a1eb32, triggering immediate processing
2025-05-22 10:55:54,596 - message-queue-api - INFO - [Celery] [2025-05-22 10:55:54,596: INFO/MainProcess] Task celery_worker.process_message[1e8d07c1-e936-4f2e-9292-4db52c1aefea] received
2025-05-22 10:55:54,600 - message-queue-api - INFO - [Celery] [2025-05-22 10:55:54,600: INFO/MainProcess] Segmenting text for message 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:55:54,742 - message-queue-api - INFO - [Celery] [2025-05-22 10:55:54,741: WARNING/MainProcess] botok not installed. Using fallback method for Tibetan text segmentation.
2025-05-22 10:55:54,742 - message-queue-api - INFO - [Celery] [2025-05-22 10:55:54,742: INFO/MainProcess] Text segmented into 33 segments
2025-05-22 10:55:56,795 - message-queue-api - INFO - Translation progress [==>                  ] 10.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:55:56,798 - message-queue-api - INFO - [Celery] [2025-05-22 10:55:56,798: INFO/MainProcess] Updated status for message 4415b22c-a931-4853-ab48-749d66a1eb32: started (10%)
2025-05-22 10:55:58,848 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:55:58,849 - message-queue-api - INFO - [Celery] [2025-05-22 10:55:58,849: INFO/MainProcess] Updated status for message 4415b22c-a931-4853-ab48-749d66a1eb32: started (0%)
2025-05-22 10:55:58,851 - message-queue-api - INFO - [Celery] [2025-05-22 10:55:58,850: INFO/MainProcess] Translating segment 1/33 for message 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:02,403 - message-queue-api - INFO - Translation progress [>                    ] 3.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:06,451 - message-queue-api - INFO - Translation progress [=>                   ] 6.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:09,760 - message-queue-api - INFO - Translation progress [=>                   ] 9.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:13,285 - message-queue-api - INFO - Translation progress [==>                  ] 12.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:18,879 - message-queue-api - INFO - Translation progress [===>                 ] 15.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:22,706 - message-queue-api - INFO - Translation progress [===>                 ] 18.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:26,352 - message-queue-api - INFO - Translation progress [====>                ] 21.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:30,290 - message-queue-api - INFO - Translation progress [====>                ] 24.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:34,726 - message-queue-api - INFO - Translation progress [=====>               ] 27.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:38,123 - message-queue-api - INFO - Translation progress [======>              ] 30.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:41,811 - message-queue-api - INFO - Translation progress [======>              ] 33.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:45,585 - message-queue-api - INFO - Translation progress [=======>             ] 36.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:48,859 - message-queue-api - INFO - Translation progress [=======>             ] 39.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:53,119 - message-queue-api - INFO - Translation progress [========>            ] 42.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:56:56,761 - message-queue-api - INFO - Translation progress [=========>           ] 45.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:00,192 - message-queue-api - INFO - Translation progress [=========>           ] 48.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:03,810 - message-queue-api - INFO - Translation progress [==========>          ] 51.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:07,956 - message-queue-api - INFO - Translation progress [==========>          ] 54.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:11,184 - message-queue-api - INFO - Translation progress [===========>         ] 57.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:14,854 - message-queue-api - INFO - Translation progress [============>        ] 60.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:19,343 - message-queue-api - INFO - Translation progress [============>        ] 63.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:23,012 - message-queue-api - INFO - Translation progress [=============>       ] 66.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:26,546 - message-queue-api - INFO - Translation progress [=============>       ] 69.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:30,132 - message-queue-api - INFO - Translation progress [==============>      ] 72.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:33,673 - message-queue-api - INFO - Translation progress [===============>     ] 75.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:38,018 - message-queue-api - INFO - Translation progress [===============>     ] 78.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:41,401 - message-queue-api - INFO - Translation progress [================>    ] 81.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:44,953 - message-queue-api - INFO - Translation progress [================>    ] 84.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:48,787 - message-queue-api - INFO - Translation progress [=================>   ] 87.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:52,748 - message-queue-api - INFO - Translation progress [==================>  ] 90.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:56,503 - message-queue-api - INFO - Translation progress [==================>  ] 93.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:57:59,927 - message-queue-api - INFO - Translation progress [===================> ] 96.0% - Model: claude-3-haiku-20240307 - ID: 4415b22c-a931-4853-ab48-749d66a1eb32
2025-05-22 10:58:03,310 - message-queue-api - INFO - Translation COMPLETED for message 4415b22c-a931-4853-ab48-749d66a1eb32 using model claude-3-haiku-20240307
2025-05-22 11:01:31,521 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:01:31,522 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:01:31,546 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 11:01:31,546 - message-queue-api - INFO - Celery worker thread started
2025-05-22 11:01:31,546 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 11:01:31,581 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:01:31,581 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:01:32,234 - message-queue-api - INFO - [Celery] 
2025-05-22 11:01:32,234 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 11:01:32
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x1db49cae240
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] 
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] 
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] 
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] [2025-05-22 11:01:32,235: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:01:32,235 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:01:32,237 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:01:32,237 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:01:32,237 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:01:32,237 - message-queue-api - INFO - [Celery] 
2025-05-22 11:01:32,242 - message-queue-api - INFO - [Celery] [2025-05-22 11:01:32,242: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 11:01:32,242 - message-queue-api - INFO - [Celery] [2025-05-22 11:01:32,242: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:01:32,242 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:01:32,242 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:01:32,242 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:01:32,242 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:01:32,243 - message-queue-api - INFO - [Celery] 
2025-05-22 11:01:32,246 - message-queue-api - INFO - [Celery] [2025-05-22 11:01:32,246: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 11:01:33,277 - message-queue-api - INFO - [Celery] [2025-05-22 11:01:33,276: INFO/MainProcess] mingle: all alone
2025-05-22 11:01:33,313 - message-queue-api - INFO - [Celery] [2025-05-22 11:01:33,312: INFO/MainProcess] celery@hacker ready.
2025-05-22 11:01:48,035 - message-queue-api - INFO - Adding new translation job to queue with ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:01:48,037 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 11:01:48,041 - message-queue-api - INFO - High priority message 919027d3-09bd-455d-b414-722f57cd2561, triggering immediate processing
2025-05-22 11:01:50,359 - message-queue-api - INFO - Translation progress [==>                  ] 10.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:01:52,449 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:01:55,816 - message-queue-api - INFO - Translation progress [==>                  ] 11.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:01:59,232 - message-queue-api - INFO - Translation progress [====>                ] 22.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:02:02,712 - message-queue-api - INFO - Translation progress [======>              ] 33.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:02:06,620 - message-queue-api - INFO - Translation progress [========>            ] 44.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:02:10,166 - message-queue-api - INFO - Translation progress [===========>         ] 55.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:02:14,195 - message-queue-api - INFO - Translation progress [=============>       ] 66.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:02:17,916 - message-queue-api - INFO - Translation progress [===============>     ] 77.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:02:22,362 - message-queue-api - INFO - Translation progress [=================>   ] 88.0% - Model: claude-3-haiku-20240307 - ID: 919027d3-09bd-455d-b414-722f57cd2561
2025-05-22 11:02:25,955 - message-queue-api - INFO - Translation COMPLETED for message 919027d3-09bd-455d-b414-722f57cd2561 using model claude-3-haiku-20240307
2025-05-22 11:04:55,585 - message-queue-api - INFO - [Celery] 
2025-05-22 11:04:55,585 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 11:04:55,585 - message-queue-api - INFO - [Celery] 
2025-05-22 11:04:55,585 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 11:04:57,102 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:04:57,102 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:04:57,122 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 11:04:57,122 - message-queue-api - INFO - Celery worker thread started
2025-05-22 11:04:57,122 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 11:04:57,152 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:04:57,153 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:04:57,616 - message-queue-api - INFO - [Celery] 
2025-05-22 11:04:57,616 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 11:04:57,616 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:04:57,616 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 11:04:57
2025-05-22 11:04:57,616 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 11:04:57,616 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 11:04:57,616 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x274e4d6e180
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] 
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] 
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 11:04:57,618 - message-queue-api - INFO - [Celery] 
2025-05-22 11:04:57,620 - message-queue-api - INFO - [Celery] [2025-05-22 11:04:57,616: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:04:57,620 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:04:57,620 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:04:57,620 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:04:57,620 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:04:57,620 - message-queue-api - INFO - [Celery] 
2025-05-22 11:04:57,625 - message-queue-api - INFO - [Celery] [2025-05-22 11:04:57,625: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 11:04:57,625 - message-queue-api - INFO - [Celery] [2025-05-22 11:04:57,625: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:04:57,627 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:04:57,627 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:04:57,627 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:04:57,627 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:04:57,627 - message-queue-api - INFO - [Celery] 
2025-05-22 11:04:57,637 - message-queue-api - INFO - [Celery] [2025-05-22 11:04:57,637: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 11:04:58,658 - message-queue-api - INFO - [Celery] [2025-05-22 11:04:58,658: INFO/MainProcess] mingle: all alone
2025-05-22 11:04:58,689 - message-queue-api - INFO - [Celery] [2025-05-22 11:04:58,689: INFO/MainProcess] celery@hacker ready.
2025-05-22 11:05:04,752 - message-queue-api - INFO - Adding new translation job to queue with ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:04,753 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 11:05:04,757 - message-queue-api - INFO - High priority message 7bc4a253-ad8b-4042-9aac-00e6ef62716a, triggering immediate processing
2025-05-22 11:05:07,001 - message-queue-api - INFO - Translation progress [==>                  ] 10.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:09,078 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:12,696 - message-queue-api - INFO - Translation progress [==>                  ] 11.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:16,967 - message-queue-api - INFO - Translation progress [====>                ] 22.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:20,802 - message-queue-api - INFO - Translation progress [======>              ] 33.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:24,571 - message-queue-api - INFO - Translation progress [========>            ] 44.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:27,978 - message-queue-api - INFO - Translation progress [===========>         ] 55.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:32,590 - message-queue-api - INFO - Translation progress [=============>       ] 66.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:36,055 - message-queue-api - INFO - Translation progress [===============>     ] 77.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:39,682 - message-queue-api - INFO - Translation progress [=================>   ] 88.0% - Model: claude-3-haiku-20240307 - ID: 7bc4a253-ad8b-4042-9aac-00e6ef62716a
2025-05-22 11:05:43,340 - message-queue-api - INFO - Translation COMPLETED for message 7bc4a253-ad8b-4042-9aac-00e6ef62716a using model claude-3-haiku-20240307
2025-05-22 11:17:22,580 - message-queue-api - INFO - [Celery] 
2025-05-22 11:17:22,581 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 11:17:22,582 - message-queue-api - INFO - [Celery] 
2025-05-22 11:17:22,582 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 11:17:24,399 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:17:24,400 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:17:24,420 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 11:17:24,420 - message-queue-api - INFO - Celery worker thread started
2025-05-22 11:17:24,421 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 11:17:24,443 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:17:24,443 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:17:25,004 - message-queue-api - INFO - [Celery] 
2025-05-22 11:17:25,004 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 11:17:25,005 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:17:25,005 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 11:17:24
2025-05-22 11:17:25,005 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 11:17:25,005 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 11:17:25,005 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x214cb3478c0
2025-05-22 11:17:25,007 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 11:17:25,007 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 11:17:25,007 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 11:17:25,007 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 11:17:25,008 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:17:25,008 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 11:17:25,009 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 11:17:25,009 - message-queue-api - INFO - [Celery] 
2025-05-22 11:17:25,009 - message-queue-api - INFO - [Celery] 
2025-05-22 11:17:25,010 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 11:17:25,010 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 11:17:25,010 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 11:17:25,011 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 11:17:25,011 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 11:17:25,012 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 11:17:25,012 - message-queue-api - INFO - [Celery] 
2025-05-22 11:17:25,012 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:25,005: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:17:25,014 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:17:25,014 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:17:25,014 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:17:25,014 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:17:25,014 - message-queue-api - INFO - [Celery] 
2025-05-22 11:17:25,018 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:25,018: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 11:17:25,018 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:25,018: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:17:25,018 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:17:25,018 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:17:25,018 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:17:25,019 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:17:25,019 - message-queue-api - INFO - [Celery] 
2025-05-22 11:17:25,022 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:25,022: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 11:17:26,055 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:26,055: INFO/MainProcess] mingle: all alone
2025-05-22 11:17:26,094 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:26,093: INFO/MainProcess] celery@hacker ready.
2025-05-22 11:17:34,269 - message-queue-api - INFO - Adding new translation job to queue with ID: 3614eb44-1311-40f1-87a0-18b890bef89a
2025-05-22 11:17:34,269 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 11:17:34,270 - message-queue-api - INFO - High priority message 3614eb44-1311-40f1-87a0-18b890bef89a, triggering immediate processing
2025-05-22 11:17:34,351 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:34,351: INFO/MainProcess] Task celery_worker.process_message[55703928-a94e-4c7a-a389-46ab4bf246bb] received
2025-05-22 11:17:34,360 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:34,359: INFO/MainProcess] Segmenting text for message 3614eb44-1311-40f1-87a0-18b890bef89a
2025-05-22 11:17:34,377 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:34,377: WARNING/MainProcess] botok not installed. Using fallback method for Tibetan text segmentation.
2025-05-22 11:17:34,378 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:34,378: INFO/MainProcess] Text segmented into 9 segments
2025-05-22 11:17:36,423 - message-queue-api - INFO - Translation progress [==>                  ] 10.0% - Model: claude-3-haiku-20240307 - ID: 3614eb44-1311-40f1-87a0-18b890bef89a
2025-05-22 11:17:36,426 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:36,426: INFO/MainProcess] Updated status for message 3614eb44-1311-40f1-87a0-18b890bef89a: started (10%)
2025-05-22 11:17:36,427 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:36,426: INFO/MainProcess] Combining 9 segments into batches of 10
2025-05-22 11:17:36,427 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:36,427: INFO/MainProcess] Created 1 batches for translation
2025-05-22 11:17:38,460 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 3614eb44-1311-40f1-87a0-18b890bef89a
2025-05-22 11:17:38,463 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:38,463: INFO/MainProcess] Updated status for message 3614eb44-1311-40f1-87a0-18b890bef89a: started (0%)
2025-05-22 11:17:38,464 - message-queue-api - INFO - [Celery] [2025-05-22 11:17:38,464: INFO/MainProcess] Translating batch 1/1 for message 3614eb44-1311-40f1-87a0-18b890bef89a
2025-05-22 11:17:44,672 - message-queue-api - INFO - Translation COMPLETED for message 3614eb44-1311-40f1-87a0-18b890bef89a using model claude-3-haiku-20240307
2025-05-22 11:32:34,877 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:32:34,877 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:32:34,897 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 11:32:34,897 - message-queue-api - INFO - Celery worker thread started
2025-05-22 11:32:34,897 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 11:32:34,925 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:32:34,926 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:32:35,520 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 11:32:35,521 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:32:35,521 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 11:32:35
2025-05-22 11:32:35,521 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 11:32:35,521 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 11:32:35,521 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x1bb9f665550
2025-05-22 11:32:35,521 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 11:32:35,521 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 11:32:35,523 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 11:32:35,524 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 11:32:35,524 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:32:35,525 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 11:32:35,525 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 11:32:35,525 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 11:32:35,525 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 11:32:35,525 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 11:32:35,525 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 11:32:35,525 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 11:32:35,525 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 11:32:35,525 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:35,521: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:32:35,527 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:32:35,527 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:32:35,528 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:32:35,528 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:32:35,536 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:35,536: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 11:32:35,537 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:35,537: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:32:35,537 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:32:35,538 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:32:35,538 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:32:35,538 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:32:35,546 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:35,546: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 11:32:36,663 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:36,663: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\app\control.py:56: DuplicateNodenameWarning: Received multiple replies from node name: celery@hacker.
2025-05-22 11:32:36,664 - message-queue-api - INFO - [Celery] Please make sure you give each node a unique nodename using
2025-05-22 11:32:36,664 - message-queue-api - INFO - [Celery] the celery worker `-n` option.
2025-05-22 11:32:36,664 - message-queue-api - INFO - [Celery] warnings.warn(DuplicateNodenameWarning(
2025-05-22 11:32:36,665 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:36,663: INFO/MainProcess] mingle: all alone
2025-05-22 11:32:36,692 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:36,692: INFO/MainProcess] celery@hacker ready.
2025-05-22 11:32:38,739 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 11:32:38,740 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 11:32:40,368 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:32:40,368 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:32:40,387 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 11:32:40,387 - message-queue-api - INFO - Celery worker thread started
2025-05-22 11:32:40,387 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 11:32:40,408 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:32:40,409 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:32:40,917 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 11:32:40,917 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:32:40,917 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 11:32:40
2025-05-22 11:32:40,917 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 11:32:40,917 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x27b21565f70
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 11:32:40,918 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 11:32:40,920 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:40,917: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:32:40,920 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:32:40,920 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:32:40,920 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:32:40,920 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:32:40,923 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:40,923: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 11:32:40,923 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:40,923: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:32:40,924 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:32:40,924 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:32:40,925 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:32:40,925 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:32:40,928 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:40,928: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 11:32:41,951 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:41,950: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\app\control.py:56: DuplicateNodenameWarning: Received multiple replies from node name: celery@hacker.
2025-05-22 11:32:41,951 - message-queue-api - INFO - [Celery] Please make sure you give each node a unique nodename using
2025-05-22 11:32:41,951 - message-queue-api - INFO - [Celery] the celery worker `-n` option.
2025-05-22 11:32:41,951 - message-queue-api - INFO - [Celery] warnings.warn(DuplicateNodenameWarning(
2025-05-22 11:32:41,951 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:41,951: INFO/MainProcess] mingle: all alone
2025-05-22 11:32:41,979 - message-queue-api - INFO - [Celery] [2025-05-22 11:32:41,979: INFO/MainProcess] celery@hacker ready.
2025-05-22 11:33:28,557 - message-queue-api - INFO - Adding new translation job to queue with ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:33:28,557 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 11:33:28,605 - message-queue-api - INFO - High priority message 0df07a89-9cec-41b7-8a86-0ddaea75bd92, triggering immediate processing
2025-05-22 11:33:30,863 - message-queue-api - INFO - Translation progress [==>                  ] 10.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:33:32,947 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:33:36,785 - message-queue-api - INFO - Translation progress [>                    ] 3.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:33:40,122 - message-queue-api - INFO - Translation progress [=>                   ] 7.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:33:43,676 - message-queue-api - INFO - Translation progress [==>                  ] 11.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:33:47,346 - message-queue-api - INFO - Translation progress [===>                 ] 15.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:33:51,001 - message-queue-api - INFO - Translation progress [===>                 ] 19.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:33:54,640 - message-queue-api - INFO - Translation progress [====>                ] 23.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:33:59,028 - message-queue-api - INFO - Translation progress [=====>               ] 26.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:02,865 - message-queue-api - INFO - Translation progress [======>              ] 30.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:06,451 - message-queue-api - INFO - Translation progress [======>              ] 34.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:10,524 - message-queue-api - INFO - Translation progress [=======>             ] 38.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:15,164 - message-queue-api - INFO - Translation progress [========>            ] 42.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:18,450 - message-queue-api - INFO - Translation progress [=========>           ] 46.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:22,667 - message-queue-api - INFO - Translation progress [==========>          ] 50.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:27,072 - message-queue-api - INFO - Translation progress [==========>          ] 53.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:31,026 - message-queue-api - INFO - Translation progress [===========>         ] 57.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:34,728 - message-queue-api - INFO - Translation progress [============>        ] 61.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:38,498 - message-queue-api - INFO - Translation progress [=============>       ] 65.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:43,000 - message-queue-api - INFO - Translation progress [=============>       ] 69.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:46,768 - message-queue-api - INFO - Translation progress [==============>      ] 73.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:50,673 - message-queue-api - INFO - Translation progress [===============>     ] 76.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:54,052 - message-queue-api - INFO - Translation progress [================>    ] 80.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:34:58,065 - message-queue-api - INFO - Translation progress [================>    ] 84.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:35:02,427 - message-queue-api - INFO - Translation progress [=================>   ] 88.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:35:05,714 - message-queue-api - INFO - Translation progress [==================>  ] 92.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:35:09,669 - message-queue-api - INFO - Translation progress [===================> ] 96.0% - Model: claude-3-haiku-20240307 - ID: 0df07a89-9cec-41b7-8a86-0ddaea75bd92
2025-05-22 11:35:13,066 - message-queue-api - INFO - Translation COMPLETED for message 0df07a89-9cec-41b7-8a86-0ddaea75bd92 using model claude-3-haiku-20240307
2025-05-22 11:36:58,311 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 11:36:58,314 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 11:36:59,377 - message-queue-api - ERROR - Celery worker exited with code 1
2025-05-22 11:37:12,496 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:37:12,496 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:37:12,527 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 11:37:12,527 - message-queue-api - INFO - Celery worker thread started
2025-05-22 11:37:12,527 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 11:37:12,560 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:37:12,561 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:37:13,138 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 11:37:13,138 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:37:13,138 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 11:37:13
2025-05-22 11:37:13,138 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 11:37:13,138 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 11:37:13,139 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x2809bc33890
2025-05-22 11:37:13,139 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 11:37:13,139 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 11:37:13,139 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 11:37:13,139 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 11:37:13,139 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:37:13,139 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 11:37:13,140 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 11:37:13,140 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 11:37:13,140 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 11:37:13,140 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 11:37:13,140 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 11:37:13,141 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 11:37:13,141 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 11:37:13,141 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:13,138: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:37:13,142 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:37:13,143 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:37:13,143 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:37:13,143 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:37:13,148 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:13,148: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 11:37:13,148 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:13,148: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:37:13,150 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:37:13,150 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:37:13,150 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:37:13,150 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:37:13,161 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:13,160: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 11:37:14,187 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:14,187: INFO/MainProcess] mingle: all alone
2025-05-22 11:37:14,224 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:14,224: INFO/MainProcess] celery@hacker ready.
2025-05-22 11:37:19,445 - message-queue-api - INFO - Adding new translation job to queue with ID: e83d80d0-a898-40bb-91d6-21cca2da9d2c
2025-05-22 11:37:19,445 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 11:37:19,492 - message-queue-api - INFO - High priority message e83d80d0-a898-40bb-91d6-21cca2da9d2c, triggering immediate processing
2025-05-22 11:37:19,593 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:19,593: INFO/MainProcess] Task celery_worker.process_message[8b88b241-12bd-4311-9dcc-6e95a19e4792] received
2025-05-22 11:37:19,609 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:19,608: INFO/MainProcess] Segmenting text for message e83d80d0-a898-40bb-91d6-21cca2da9d2c
2025-05-22 11:37:19,634 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:19,634: WARNING/MainProcess] botok not installed. Using fallback method for Tibetan text segmentation.
2025-05-22 11:37:19,635 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:19,635: INFO/MainProcess] Text segmented into 26 segments
2025-05-22 11:37:21,687 - message-queue-api - INFO - Translation progress [==>                  ] 10.0% - Model: claude-3-haiku-20240307 - ID: e83d80d0-a898-40bb-91d6-21cca2da9d2c
2025-05-22 11:37:21,690 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:21,690: INFO/MainProcess] Updated status for message e83d80d0-a898-40bb-91d6-21cca2da9d2c: started (10%)
2025-05-22 11:37:21,691 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:21,690: INFO/MainProcess] Combining 26 segments into batches of 10
2025-05-22 11:37:21,691 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:21,690: ERROR/MainProcess] Error during translation: '>' not supported between instances of 'int' and 'str'
2025-05-22 11:37:23,728 - message-queue-api - ERROR - Translation FAILED for message e83d80d0-a898-40bb-91d6-21cca2da9d2c: Translation failed: '>' not supported between instances of 'int' and 'str'
2025-05-22 11:37:23,730 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:23,730: INFO/MainProcess] Updated status for message e83d80d0-a898-40bb-91d6-21cca2da9d2c: failed (0%)
2025-05-22 11:37:23,732 - message-queue-api - INFO - [Celery] [2025-05-22 11:37:23,732: INFO/MainProcess] Task celery_worker.process_message[8b88b241-12bd-4311-9dcc-6e95a19e4792] succeeded in 4.140999999945052s: {'status': 'failed', 'message_id': 'e83d80d0-a898-40bb-91d6-21cca2da9d2c', 'error': '\'>\' not supported between instances of \'int\' and \'str\''}
2025-05-22 11:38:26,013 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 11:38:26,014 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 11:38:27,631 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:38:27,631 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:38:27,649 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 11:38:27,649 - message-queue-api - INFO - Celery worker thread started
2025-05-22 11:38:27,649 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 11:38:27,671 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:38:27,671 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:38:28,187 - message-queue-api - INFO - [Celery] -------------- celery@hacker v5.3.6 (emerald-rush)
2025-05-22 11:38:28,188 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:38:28,188 - message-queue-api - INFO - [Celery] -- ******* ---- Windows-11-10.0.26100-SP0 2025-05-22 11:38:28
2025-05-22 11:38:28,188 - message-queue-api - INFO - [Celery] - *** --- * ---
2025-05-22 11:38:28,189 - message-queue-api - INFO - [Celery] - ** ---------- [config]
2025-05-22 11:38:28,189 - message-queue-api - INFO - [Celery] - ** ---------- .> app:         translation_tasks:0x23b27a0df70
2025-05-22 11:38:28,190 - message-queue-api - INFO - [Celery] - ** ---------- .> transport:   redis://localhost:6379/0
2025-05-22 11:38:28,190 - message-queue-api - INFO - [Celery] - ** ---------- .> results:     redis://localhost:6379/0
2025-05-22 11:38:28,190 - message-queue-api - INFO - [Celery] - *** --- * --- .> concurrency: 1 (solo)
2025-05-22 11:38:28,191 - message-queue-api - INFO - [Celery] -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)
2025-05-22 11:38:28,191 - message-queue-api - INFO - [Celery] --- ***** -----
2025-05-22 11:38:28,191 - message-queue-api - INFO - [Celery] -------------- [queues]
2025-05-22 11:38:28,191 - message-queue-api - INFO - [Celery] .> celery           exchange=celery(direct) key=celery
2025-05-22 11:38:28,192 - message-queue-api - INFO - [Celery] [tasks]
2025-05-22 11:38:28,192 - message-queue-api - INFO - [Celery] . celery_app.check_pending_messages
2025-05-22 11:38:28,192 - message-queue-api - INFO - [Celery] . celery_app.check_queue
2025-05-22 11:38:28,192 - message-queue-api - INFO - [Celery] . celery_worker.process_message
2025-05-22 11:38:28,192 - message-queue-api - INFO - [Celery] . celery_worker.translate_text
2025-05-22 11:38:28,192 - message-queue-api - INFO - [Celery] . celery_worker.update_translation_status
2025-05-22 11:38:28,192 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:28,189: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:38:28,193 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:38:28,193 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:38:28,194 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:38:28,194 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:38:28,196 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:28,196: INFO/MainProcess] Connected to redis://localhost:6379/0
2025-05-22 11:38:28,196 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:28,196: WARNING/MainProcess] D:\work\pecha-translation-queue-worker\.venv\Lib\site-packages\celery\worker\consumer\consumer.py:507: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine
2025-05-22 11:38:28,199 - message-queue-api - INFO - [Celery] whether broker connection retries are made during startup in Celery 6.0 and above.
2025-05-22 11:38:28,199 - message-queue-api - INFO - [Celery] If you wish to retain the existing behavior for retrying connections on startup,
2025-05-22 11:38:28,199 - message-queue-api - INFO - [Celery] you should set broker_connection_retry_on_startup to True.
2025-05-22 11:38:28,200 - message-queue-api - INFO - [Celery] warnings.warn(
2025-05-22 11:38:28,202 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:28,202: INFO/MainProcess] mingle: searching for neighbors
2025-05-22 11:38:29,231 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:29,230: INFO/MainProcess] mingle: all alone
2025-05-22 11:38:29,273 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:29,273: INFO/MainProcess] celery@hacker ready.
2025-05-22 11:38:33,078 - message-queue-api - INFO - Adding new translation job to queue with ID: 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:33,079 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 11:38:33,133 - message-queue-api - INFO - High priority message 39f43677-2183-4d2a-a27d-8339f72ec055, triggering immediate processing
2025-05-22 11:38:33,243 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:33,243: INFO/MainProcess] Task celery_worker.process_message[1fb2671d-07b7-4ee4-a11c-53fb365a2e92] received
2025-05-22 11:38:33,261 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:33,261: INFO/MainProcess] Segmenting text for message 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:33,301 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:33,301: WARNING/MainProcess] botok not installed. Using fallback method for Tibetan text segmentation.
2025-05-22 11:38:33,302 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:33,302: INFO/MainProcess] Text segmented into 26 segments
2025-05-22 11:38:35,365 - message-queue-api - INFO - Translation progress [==>                  ] 10.0% - Model: claude-3-haiku-20240307 - ID: 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:35,366 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:35,366: INFO/MainProcess] Updated status for message 39f43677-2183-4d2a-a27d-8339f72ec055: started (10%)
2025-05-22 11:38:35,366 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:35,366: INFO/MainProcess] Combining 26 segments into batches of 10
2025-05-22 11:38:35,366 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:35,366: INFO/MainProcess] Created 3 batches for translation using 4 PARALLEL workers
2025-05-22 11:38:35,366 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:35,366: INFO/MainProcess] ===== STARTING PARALLEL TRANSLATION WITH 4 WORKERS =====
2025-05-22 11:38:35,366 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:35,366: INFO/MainProcess] Submitting batch 1/3 to thread pool
2025-05-22 11:38:35,468 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:35,468: INFO/MainProcess] Submitting batch 2/3 to thread pool
2025-05-22 11:38:35,569 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:35,569: INFO/MainProcess] Submitting batch 3/3 to thread pool
2025-05-22 11:38:35,570 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:35,570: INFO/MainProcess] Waiting for 3 translation tasks to complete...
2025-05-22 11:38:37,416 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:37,417 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:37,417: INFO/MainProcess] Updated status for message 39f43677-2183-4d2a-a27d-8339f72ec055: started (0%)
2025-05-22 11:38:37,417 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:37,417: INFO/MainProcess] [Thread-25304] STARTING batch 1/3 for message 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:37,526 - message-queue-api - INFO - Translation progress [======>              ] 33.0% - Model: claude-3-haiku-20240307 - ID: 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:37,528 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:37,528: INFO/MainProcess] Updated status for message 39f43677-2183-4d2a-a27d-8339f72ec055: started (33%)
2025-05-22 11:38:37,529 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:37,529: INFO/MainProcess] [Thread-21716] STARTING batch 2/3 for message 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:37,623 - message-queue-api - INFO - Translation progress [=============>       ] 66.0% - Model: claude-3-haiku-20240307 - ID: 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:37,626 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:37,626: INFO/MainProcess] Updated status for message 39f43677-2183-4d2a-a27d-8339f72ec055: started (66%)
2025-05-22 11:38:37,627 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:37,626: INFO/MainProcess] [Thread-7204] STARTING batch 3/3 for message 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:40,542 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:40,542: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 11:38:40,565 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:40,565: INFO/MainProcess] Translation successful. Length: 406
2025-05-22 11:38:40,566 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:40,565: INFO/MainProcess] [Thread-7204] COMPLETED batch 3/3 for message 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:40,566 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:40,566: INFO/MainProcess] [Thread-7804] Processed result for batch 3/3 - 1/3 complete (33%)
2025-05-22 11:38:41,211 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:41,211: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 11:38:41,212 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:41,212: INFO/MainProcess] Translation successful. Length: 883
2025-05-22 11:38:41,212 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:41,212: INFO/MainProcess] [Thread-21716] COMPLETED batch 2/3 for message 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:41,237 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:41,237: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 11:38:41,237 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:41,237: INFO/MainProcess] Translation successful. Length: 911
2025-05-22 11:38:41,237 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:41,237: INFO/MainProcess] [Thread-25304] COMPLETED batch 1/3 for message 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:42,618 - message-queue-api - INFO - Translation progress [======>              ] 33.0% - Model: claude-3-haiku-20240307 - ID: 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:42,618 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:42,618: INFO/MainProcess] Updated status for message 39f43677-2183-4d2a-a27d-8339f72ec055: started (33%)
2025-05-22 11:38:42,620 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:42,618: INFO/MainProcess] [Thread-7804] Processed result for batch 2/3 - 2/3 complete (66%)
2025-05-22 11:38:44,664 - message-queue-api - INFO - Translation progress [=============>       ] 66.0% - Model: claude-3-haiku-20240307 - ID: 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:44,665 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:44,665: INFO/MainProcess] Updated status for message 39f43677-2183-4d2a-a27d-8339f72ec055: started (66%)
2025-05-22 11:38:44,666 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:44,665: INFO/MainProcess] [Thread-7804] Processed result for batch 1/3 - 3/3 complete (100%)
2025-05-22 11:38:46,702 - message-queue-api - INFO - Translation progress [====================>] 100.0% - Model: claude-3-haiku-20240307 - ID: 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:46,704 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:46,704: INFO/MainProcess] Updated status for message 39f43677-2183-4d2a-a27d-8339f72ec055: started (100%)
2025-05-22 11:38:46,704 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:46,704: INFO/MainProcess] ===== COMPLETED PARALLEL TRANSLATION OF 3 BATCHES =====
2025-05-22 11:38:46,710 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:46,710: INFO/MainProcess] Stored translated text in message status for 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:48,765 - message-queue-api - INFO - Translation COMPLETED for message 39f43677-2183-4d2a-a27d-8339f72ec055 using model claude-3-haiku-20240307
2025-05-22 11:38:48,768 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:48,768: INFO/MainProcess] Updated status for message 39f43677-2183-4d2a-a27d-8339f72ec055: completed (100%)
2025-05-22 11:38:48,770 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:48,768: INFO/MainProcess] Successfully processed translation job: 39f43677-2183-4d2a-a27d-8339f72ec055
2025-05-22 11:38:48,773 - message-queue-api - INFO - [Celery] [2025-05-22 11:38:48,771: INFO/MainProcess] Task celery_worker.process_message[1fb2671d-07b7-4ee4-a11c-53fb365a2e92] succeeded in 15.53200000000652s: {'status': 'completed', 'message_id': '39f43677-2183-4d2a-a27d-8339f72ec055'}
2025-05-22 11:48:12,019 - message-queue-api - INFO - Adding new translation job to queue with ID: 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:12,019 - message-queue-api - INFO - Using model: claude-3-haiku-20240307
2025-05-22 11:48:12,068 - message-queue-api - INFO - High priority message 98c9e06e-fdde-436a-ae87-9590aade4f7b, triggering immediate processing
2025-05-22 11:48:12,121 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:12,121: INFO/MainProcess] Task celery_worker.process_message[3357f461-1c5c-4050-8a4a-0b6fdbc4257a] received
2025-05-22 11:48:12,125 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:12,125: INFO/MainProcess] Segmenting text for message 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:12,142 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:12,142: WARNING/MainProcess] botok not installed. Using fallback method for Tibetan text segmentation.
2025-05-22 11:48:12,143 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:12,143: INFO/MainProcess] Text segmented into 26 segments
2025-05-22 11:48:14,185 - message-queue-api - INFO - Translation progress [==>                  ] 10.0% - Model: claude-3-haiku-20240307 - ID: 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:14,187 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:14,187: INFO/MainProcess] Updated status for message 98c9e06e-fdde-436a-ae87-9590aade4f7b: started (10%)
2025-05-22 11:48:14,187 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:14,187: INFO/MainProcess] Combining 26 segments into batches of 10
2025-05-22 11:48:14,187 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:14,187: INFO/MainProcess] Created 3 batches for translation using 4 PARALLEL workers
2025-05-22 11:48:14,187 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:14,187: INFO/MainProcess] ===== STARTING PARALLEL TRANSLATION WITH 4 WORKERS =====
2025-05-22 11:48:14,188 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:14,187: INFO/MainProcess] Submitting batch 1/3 to thread pool
2025-05-22 11:48:14,289 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:14,289: INFO/MainProcess] Submitting batch 2/3 to thread pool
2025-05-22 11:48:14,391 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:14,391: INFO/MainProcess] Submitting batch 3/3 to thread pool
2025-05-22 11:48:14,392 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:14,392: INFO/MainProcess] Waiting for 3 translation tasks to complete...
2025-05-22 11:48:16,237 - message-queue-api - INFO - Translation progress [>                    ] 0.0% - Model: claude-3-haiku-20240307 - ID: 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:16,240 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:16,240: INFO/MainProcess] Updated status for message 98c9e06e-fdde-436a-ae87-9590aade4f7b: started (0%)
2025-05-22 11:48:16,241 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:16,241: INFO/MainProcess] [Thread-27676] STARTING batch 1/3 for message 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:16,343 - message-queue-api - INFO - Translation progress [======>              ] 33.0% - Model: claude-3-haiku-20240307 - ID: 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:16,344 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:16,344: INFO/MainProcess] Updated status for message 98c9e06e-fdde-436a-ae87-9590aade4f7b: started (33%)
2025-05-22 11:48:16,344 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:16,344: INFO/MainProcess] [Thread-24348] STARTING batch 2/3 for message 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:16,438 - message-queue-api - INFO - Translation progress [=============>       ] 66.0% - Model: claude-3-haiku-20240307 - ID: 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:16,439 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:16,439: INFO/MainProcess] Updated status for message 98c9e06e-fdde-436a-ae87-9590aade4f7b: started (66%)
2025-05-22 11:48:16,439 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:16,439: INFO/MainProcess] [Thread-26800] STARTING batch 3/3 for message 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:18,499 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:18,499: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 11:48:18,506 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:18,506: INFO/MainProcess] Translation successful. Length: 409
2025-05-22 11:48:18,508 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:18,506: INFO/MainProcess] [Thread-26800] COMPLETED batch 3/3 for message 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:18,513 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:18,506: INFO/MainProcess] [Thread-7804] Processed result for batch 3/3 - 1/3 complete (33%)
2025-05-22 11:48:19,415 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:19,415: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 11:48:19,417 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:19,417: INFO/MainProcess] Translation successful. Length: 958
2025-05-22 11:48:19,417 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:19,417: INFO/MainProcess] [Thread-24348] COMPLETED batch 2/3 for message 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:19,497 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:19,496: INFO/MainProcess] HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"
2025-05-22 11:48:19,498 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:19,498: INFO/MainProcess] Translation successful. Length: 971
2025-05-22 11:48:19,498 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:19,498: INFO/MainProcess] [Thread-27676] COMPLETED batch 1/3 for message 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:20,576 - message-queue-api - INFO - Translation progress [======>              ] 33.0% - Model: claude-3-haiku-20240307 - ID: 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:20,579 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:20,579: INFO/MainProcess] Updated status for message 98c9e06e-fdde-436a-ae87-9590aade4f7b: started (33%)
2025-05-22 11:48:20,580 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:20,579: INFO/MainProcess] [Thread-7804] Processed result for batch 2/3 - 2/3 complete (66%)
2025-05-22 11:48:22,637 - message-queue-api - INFO - Translation progress [=============>       ] 66.0% - Model: claude-3-haiku-20240307 - ID: 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:22,640 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:22,640: INFO/MainProcess] Updated status for message 98c9e06e-fdde-436a-ae87-9590aade4f7b: started (66%)
2025-05-22 11:48:22,640 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:22,640: INFO/MainProcess] [Thread-7804] Processed result for batch 1/3 - 3/3 complete (100%)
2025-05-22 11:48:24,685 - message-queue-api - INFO - Translation progress [====================>] 100.0% - Model: claude-3-haiku-20240307 - ID: 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:24,687 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:24,687: INFO/MainProcess] Updated status for message 98c9e06e-fdde-436a-ae87-9590aade4f7b: started (100%)
2025-05-22 11:48:24,688 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:24,688: INFO/MainProcess] ===== COMPLETED PARALLEL TRANSLATION OF 3 BATCHES =====
2025-05-22 11:48:24,703 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:24,700: INFO/MainProcess] Stored translated text in message status for 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:26,749 - message-queue-api - INFO - Translation COMPLETED for message 98c9e06e-fdde-436a-ae87-9590aade4f7b using model claude-3-haiku-20240307
2025-05-22 11:48:26,752 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:26,752: INFO/MainProcess] Updated status for message 98c9e06e-fdde-436a-ae87-9590aade4f7b: completed (100%)
2025-05-22 11:48:26,754 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:26,752: INFO/MainProcess] Successfully processed translation job: 98c9e06e-fdde-436a-ae87-9590aade4f7b
2025-05-22 11:48:26,756 - message-queue-api - INFO - [Celery] [2025-05-22 11:48:26,756: INFO/MainProcess] Task celery_worker.process_message[3357f461-1c5c-4050-8a4a-0b6fdbc4257a] succeeded in 14.641000000061467s: {'status': 'completed', 'message_id': '98c9e06e-fdde-436a-ae87-9590aade4f7b'}
2025-05-22 11:54:28,892 - message-queue-api - INFO - [Celery] worker: Hitting Ctrl+C again will terminate all running tasks!
2025-05-22 11:54:28,893 - message-queue-api - INFO - [Celery] worker: Warm shutdown (MainProcess)
2025-05-22 11:54:30,463 - message-queue-api - INFO - [Celery] worker: Cold shutdown (MainProcess)
2025-05-22 11:54:31,464 - message-queue-api - INFO - [Celery] worker: Cold shutdown (MainProcess)
2025-05-22 11:54:45,195 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:54:45,196 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:54:45,225 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 11:54:45,225 - message-queue-api - INFO - Celery worker thread started
2025-05-22 11:54:45,225 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 11:54:45,255 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 11:54:45,256 - message-queue-api - INFO - Redis is working properly
2025-05-22 11:56:38,175 - message-queue-api - ERROR - Celery worker exited with code 1
2025-05-22 14:18:43,516 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:18:43,517 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:18:43,555 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 14:18:43,555 - message-queue-api - INFO - Celery worker thread started
2025-05-22 14:18:43,555 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 14:18:43,600 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:18:43,601 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:20:22,681 - message-queue-api - ERROR - Celery worker exited with code 1
2025-05-22 14:20:34,329 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:20:34,331 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:20:34,371 - message-queue-api - INFO - Starting Celery worker with beat scheduler...
2025-05-22 14:20:34,371 - message-queue-api - INFO - Celery worker thread started
2025-05-22 14:20:34,373 - message-queue-api - INFO - Starting FastAPI server...
2025-05-22 14:20:35,036 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:20:35,037 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:20:35,097 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:20:35,098 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:20:48,339 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:20:48,339 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:20:48,413 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:20:48,414 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:20:50,134 - message-queue-api - ERROR - Celery worker exited with code 1
2025-05-22 14:21:59,485 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:21:59,486 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:21:59,548 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:21:59,549 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:23:18,409 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:23:18,409 - message-queue-api - INFO - Redis is working properly
2025-05-22 14:23:18,459 - message-queue-api - INFO - Successfully connected to Redis at localhost:6379
2025-05-22 14:23:18,459 - message-queue-api - INFO - Redis is working properly
